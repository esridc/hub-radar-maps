{"version":3,"names":["F","n","getLogger","I","T","Set","k","x","S","async","v","o","s","a","links","l","c","L","geojson","t","apiKey","u","customParameters","d","signal","p","y","i","href","landingPage","url","b","limit","token","r","accept","data","e","headers","A","f","N","m","geometryType","O","fields","P","hasZ","q","C","objectIdField","objectIdFieldName","R","timeInfo","$","find","name","editable","nullable","objectIdFieldType","unshift","alias","type","unknownFields","length","warn","message","details","field","j","jsonValues","includes","w","startTimeField","get","endTimeField","trackIdField","timeReference","timeZoneIANA","h","drawingInfo","g","extent","K","paginationParameter","json","query","collections","openapi","exec","groups","authority","code","toLowerCase","GCS_NAD_1927","wkid","WGS84","Number","parseInt","isNaN","collection","layerDefinition","maxRecordCount","queryParameters","spatialReference","supportedCrs","geometry","num","start","timeExtent","where","objectIds","fromJSON","outSpatialReference","isWGS84","W","U","M","G","Z","D","J","z","E","_","B","Q","crs","datetime","_$1","V","H","X","attributes","isWebMercator","objectId","Y","toJSON","ee","exceededTransferLimit","features","xmin","ymin","xmax","ymax","end","toISOString","bbox","spatial","zmin","zmax","rel","Object","keys","entries","filter","has"],"sources":["./node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{makeAbsolute as i,addQueryParameters as r,urlToObject as o}from\"../../core/urlUtils.js\";import{wgs84 as s}from\"../../geometry/support/spatialReferenceUtils.js\";import{project as a}from\"../../geometry/support/webMercatorUtils.js\";import{convertToFeatureSet as l,convertToGeometry as c,convertFromGeometry as u}from\"../graphics/featureConversionUtils.js\";import d from\"../graphics/OptimizedFeatureSet.js\";import{validateGeoJSON as f,inferLayerProperties as m,createOptimizedFeatures as p}from\"../graphics/sources/geojson/geojson.js\";import{createDrawingInfo as g}from\"../graphics/sources/support/clientSideDefaults.js\";import{mixAttributes as y}from\"../graphics/sources/support/sourceUtils.js\";import w from\"../support/FieldsIndex.js\";import{kebabDict as j}from\"../support/fieldType.js\";import{utc as h}from\"../../time/timeZoneUtils.js\";import b from\"../../geometry/SpatialReference.js\";const F=()=>n.getLogger(\"esri.layers.ogc.ogcFeatureUtils\"),I=\"startindex\",T=new Set([I,\"offset\"]),k=\"http://www.opengis.net/def/crs/\",x=`${k}OGC/1.3/CRS84`;var S;async function v(n,o,s={},a=5){const{links:l}=n,c=L(l,\"items\",S.geojson)||L(l,\"http://www.opengis.net/def/rel/ogc/1.0/items\",S.geojson);if(null==c)throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{apiKey:u,customParameters:d,signal:p}=s,y=i(c.href,n.landingPage.url),b={limit:a,...d,token:u},T=r(y,b),k={accept:S.geojson},{data:x}=await e(T,{signal:p,headers:k}),v=A(T,a,x.links)??I;f(x);const N=m(x,{geometryType:o.geometryType}),O=o.fields||N.fields||[],P=null!=o.hasZ?o.hasZ:N.hasZ,q=N.geometryType,C=o.objectIdField||N.objectIdFieldName||\"OBJECTID\";let R=o.timeInfo;const $=O.find((({name:e})=>e===C));if($)$.editable=!1,$.nullable=!1;else{if(!N.objectIdFieldType)throw new t(\"ogc-feature-layer:missing-feature-id\",\"Collection geojson require a feature id as a unique identifier\");O.unshift({name:C,alias:C,type:\"number\"===N.objectIdFieldType?\"esriFieldTypeOID\":\"esriFieldTypeString\",editable:!1,nullable:!1})}if(C!==N.objectIdFieldName){const e=O.find((({name:e})=>e===N.objectIdFieldName));e&&(e.type=\"esriFieldTypeInteger\")}O===N.fields&&N.unknownFields.length>0&&F().warn({name:\"ogc-feature-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:N.unknownFields}});for(const e of O){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new t(\"ogc-feature-layer:invalid-field-name\",\"field name is missing\",{field:e});if(!j.jsonValues.includes(e.type))throw new t(\"ogc-feature-layer:invalid-field-type\",`invalid type for field \"${e.name}\"`,{field:e})}if(R){const e=new w(O);if(R.startTimeField){const t=e.get(R.startTimeField);t?(R.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):R.startTimeField=null}if(R.endTimeField){const t=e.get(R.endTimeField);t?(R.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):R.endTimeField=null}if(R.trackIdField){const t=e.get(R.trackIdField);t?R.trackIdField=t.name:(R.trackIdField=null,F().warn({name:\"ogc-feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:R}}))}R.timeReference||={timeZoneIANA:h},R.startTimeField||R.endTimeField||(F().warn({name:\"ogc-feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:R}}),R=null)}return{drawingInfo:q?g(q):null,extent:K(n),geometryType:q,fields:O,hasZ:!!P,objectIdField:C,paginationParameter:v,timeInfo:R}}async function N(n,r={}){const{links:o,url:s}=n,a=L(o,\"data\",S.json)||L(o,\"http://www.opengis.net/def/rel/ogc/1.0/data\",S.json);if(null==a)throw new t(\"ogc-feature-layer:missing-collections-page\",\"Missing collections url\");const{apiKey:l,customParameters:c,signal:u}=r,d=i(a.href,s),{data:f}=await e(d,{signal:u,headers:{accept:S.json},query:{...c,token:l}});for(const e of f.collections)e.landingPage=n;return f}async function O(n,r={}){const{links:o,url:s}=n,a=L(o,\"conformance\",S.json)||L(o,\"http://www.opengis.net/def/rel/ogc/1.0/conformance\",S.json);if(null==a)throw new t(\"ogc-feature-layer:missing-conformance-page\",\"Missing conformance url\");const{apiKey:l,customParameters:c,signal:u}=r,d=i(a.href,s),{data:f}=await e(d,{signal:u,headers:{accept:S.json},query:{...c,token:l}});return f}async function P(t,n={}){const{apiKey:i,customParameters:r,signal:o}=n,{data:s}=await e(t,{signal:o,headers:{accept:S.json},query:{...r,token:i}});return s.url=t,s}async function q(t,n={}){const{links:r,url:o}=t,s=L(r,\"service-desc\",S.openapi);if(null==s)return F().warn(\"ogc-feature-layer:missing-openapi-page\",\"The OGC API-Features server does not have an OpenAPI page.\"),null;const{apiKey:a,customParameters:l,signal:c}=n,u=i(s.href,o),{data:d}=await e(u,{signal:c,headers:{accept:S.openapi},query:{...l,token:a}});return d}function C(e){const t=/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e),n=t?.groups;if(!n)return null;const{authority:i,code:r}=n;switch(i.toLowerCase()){case\"ogc\":switch(r.toLowerCase()){case\"crs27\":return b.GCS_NAD_1927.wkid;case\"crs83\":return 4269;case\"crs84\":case\"crs84h\":return b.WGS84.wkid;default:return null}case\"esri\":case\"epsg\":{const e=Number.parseInt(r,10);return Number.isNaN(e)?null:e}default:return null}}async function R(e,t,n){const i=await $(e,t,n);return l(i)}async function $(n,r,o){const{collection:{links:l,landingPage:{url:f}},layerDefinition:m,maxRecordCount:g,queryParameters:{apiKey:j,customParameters:h},spatialReference:F,supportedCrs:I}=n,T=L(l,\"items\",S.geojson)||L(l,\"http://www.opengis.net/def/rel/ogc/1.0/items\",S.geojson);if(null==T)throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{geometry:k,num:x,start:v,timeExtent:N,where:O}=r;if(r.objectIds)throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\",\"Queries with object ids are not supported\");const P=b.fromJSON(F),q=r.outSpatialReference??P,C=q.isWGS84?null:W(q,I),R=U(k,I),$=M(N),G=Z(O),D=x??(null==v?g:10),K=0===v?void 0:v,{fields:A,geometryType:J,hasZ:z,objectIdField:E,paginationParameter:_}=m,B=i(T.href,f),{data:Q}=await e(B,{...o,query:{...h,...R,crs:C,datetime:$,query:G,limit:D,[_]:K,token:j},headers:{accept:S.geojson}}),V=p(Q,{geometryType:J,hasZ:z,objectIdField:E}),H=V.length===D&&!!L(Q.links??[],\"next\",S.geojson),X=new w(A);for(const e of V){const t={};y(X,t,e.attributes),t[E]=e.attributes[E],e.attributes=t}if(!C&&q.isWebMercator)for(const e of V)if(null!=e.geometry&&null!=J){const t=c(e.geometry,J,z,!1);t.spatialReference=b.WGS84,e.geometry=u(a(t,q))}for(const e of V)e.objectId=e.attributes[E];const Y=C||!C&&q.isWebMercator?q.toJSON():s,ee=new d;return ee.exceededTransferLimit=H,ee.features=V,ee.fields=A,ee.geometryType=J,ee.hasZ=z,ee.objectIdFieldName=E,ee.spatialReference=Y,ee}function G(e){return null!=e&&\"extent\"===e.type}function W(e,t){const{isWebMercator:n,wkid:i}=e;if(!i)return null;const r=n?t[3857]??t[102100]??t[102113]??t[900913]:t[e.wkid];return r?`${k}${r}`:null}function D(e){if(null==e)return\"\";const{xmin:t,ymin:n,xmax:i,ymax:r}=e;return`${t},${n},${i},${r}`}function M(e){if(null==e)return null;const{start:t,end:n}=e;return`${null!=t?t.toISOString():\"..\"}/${null!=n?n.toISOString():\"..\"}`}function Z(e){return null!=e&&e&&\"1=1\"!==e?e:null}function U(e,t){if(!G(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:D(e)};const i=W(n,t);return null!=i?{bbox:D(e),\"bbox-crs\":i}:n.isWebMercator?{bbox:D(a(e,b.WGS84))}:null}function K(e){const t=e.extent?.spatial;if(!t)return null;const n=t.bbox[0],i=4===n.length,[r,o]=n,s=i?void 0:n[2];return{xmin:r,ymin:o,xmax:i?n[2]:n[3],ymax:i?n[3]:n[4],zmin:s,zmax:i?void 0:n[5],spatialReference:b.WGS84.toJSON()}}function L(e,t,n){return e.find((({rel:e,type:i})=>e===t&&i===n))??e.find((({rel:e,type:n})=>e===t&&!n))}function A(e,t,n){if(!n)return;const i=L(n,\"next\",S.geojson),r=o(i?.href)?.query;if(!r)return;const s=o(e).query,a=Object.keys(s??{}),l=Object.entries(r).filter((([e])=>!a.includes(e))).find((([e,n])=>T.has(e.toLowerCase())&&Number.parseInt(n,10)===t)),c=l?.[0];return c}!function(e){e.json=\"application/json\",e.geojson=\"application/geo+json\",e.openapi=\"application/vnd.oai.openapi+json;version=3.0\"}(S||(S={}));export{x as crsDefault,k as crsPrefix,v as getCollectionDefinition,N as getServerCollections,O as getServerConformance,P as getServerLandingPage,q as getServerOpenApi,C as getSpatialReferenceWkid,R as queryFeatureSetJSON,$ as queryOptimizedFeatureSet};\n"],"mappings":"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"}