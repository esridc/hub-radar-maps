import{ib as t,i9 as n,at as r,a0 as e,iq as o,i8 as s,id as i,ig as u,as as c,jE as a,j5 as f,iY as l,k0 as h,s as p,iX as d,jI as j,k1 as m,it as M,i7 as g,ia as y,k2 as S,ie as R,k3 as x,a2 as A,j_ as _,j$ as b,jY as k}from"./p-3013819f.js";import{s as E}from"./p-a111f32d.js";import{c as P,f as q}from"./p-1f7d3618.js";function w(e,o){const s=n(e,o)/(r(e)*r(o));return-t(s)}function C(t){return t?O(o(t.origin),o(t.direction)):O(e(),e())}function O(t,n){return{origin:t,direction:n}}function v(t,n){const r=I.get();return r.origin=t,r.direction=n,r}function T(t,n,r=C()){return s(r.origin,t),i(r.direction,n,t),r}function Y(t,r,e){const o=n(t.direction,i(e,r,t.origin));return u(e,t.origin,c(e,t.direction,o)),e}const I=new E((()=>C()));const L=N();function N(){return a()}const V=f,X=f;function $(t,n){return l(n,t)}function z(t,n){return h(t[0],t[1],t[2],n)}function B(t){return t}function D(t){t[0]=t[1]=t[2]=t[3]=0}function F(t,n){return t[0]=t[1]=t[2]=0,t[3]=n,t}function G(t){return t[3]}function H(t){return t}function J(t,n,r,e){return h(t,n,r,e)}function K(t,n,r){return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=t[3]+n,r}function Q(t,n,r){return p.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported"),t!==r&&$(t,r),r}function U(t,n,r){if(null==n)return!1;if(!tt(t,n,Z))return!1;let{t0:e,t1:o}=Z;if((e<0||o<e&&o>0)&&(e=o),e<0)return!1;if(r){const{origin:t,direction:o}=n;r[0]=t[0]+o[0]*e,r[1]=t[1]+o[1]*e,r[2]=t[2]+o[2]*e}return!0}function W(t,n,r){const o=T(n,r);if(!tt(t,o,Z))return[];const{origin:s,direction:i}=o,{t0:u,t1:c}=Z,a=n=>{const r=e();return j(r,s,i,n),it(t,r,r)};return Math.abs(u-c)<d()?[a(u)]:[a(u),a(c)]}const Z={t0:0,t1:0};function tt(t,n,r){const{origin:e,direction:o}=n,s=nt;s[0]=e[0]-t[0],s[1]=e[1]-t[1],s[2]=e[2]-t[2];const i=o[0]*o[0]+o[1]*o[1]+o[2]*o[2];if(0===i)return!1;const u=2*(o[0]*s[0]+o[1]*s[1]+o[2]*s[2]),c=u*u-4*i*(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]-t[3]*t[3]);if(c<0)return!1;const a=Math.sqrt(c);return r.t0=(-u-a)/(2*i),r.t1=(-u+a)/(2*i),!0}const nt=e();function rt(t,n){return U(t,n,null)}function et(t,n,e){if(U(t,n,e))return e;const o=ot(t,n,P.get());return u(e,n.origin,c(P.get(),n.direction,g(n.origin,o)/r(n.direction))),e}function ot(t,n,e){const o=P.get(),s=q.get();y(o,n.origin,n.direction);const i=G(t);y(e,o,n.origin),c(e,e,1/r(e)*i);const u=ct(t,n.origin),a=w(n.origin,e);return m(s,a+u,o),M(e,e,s),e}function st(t,n,r){return U(t,n,r)?r:(Y(n,H(t),r),it(t,r,r))}function it(t,n,e){const o=i(P.get(),n,H(t)),s=c(P.get(),o,t[3]/r(o));return u(e,s,H(t))}function ut(t,n){const r=i(P.get(),n,H(t)),e=b(r),o=t[3]*t[3];return Math.sqrt(Math.abs(e-o))}function ct(n,e){const o=i(P.get(),e,H(n)),s=r(o),u=G(n),c=u+Math.abs(u-s);return t(u/c)}const at=e();function ft(t,n,r,e){const o=i(at,n,H(t));switch(r){case S.X:{const t=x(o,at)[2];return A(e,-Math.sin(t),Math.cos(t),0)}case S.Y:{const t=x(o,at),n=t[1],r=t[2],s=Math.sin(n);return A(e,-s*Math.cos(r),-s*Math.sin(r),Math.cos(n))}case S.Z:return R(e,o);default:return}}function lt(t,n){const e=i(jt,n,H(t));return r(e)-t[3]}function ht(t,n,r,e){const o=lt(t,n),s=ft(t,n,S.Z,jt),i=c(jt,s,r-o);return u(e,n,i)}function pt(t,n){const r=k(H(t),n),e=G(t);return r<=e*e}function dt(t,n,r=a()){const e=g(H(t),H(n)),o=t[3],s=n[3];return e+s<o?(l(r,t),r):e+o<s?(l(r,n),r):(_(r,H(t),H(n),(e+s-o)/(2*e)),r[3]=(e+o+s)/2,r)}const jt=e(),mt=N();Object.freeze(Object.defineProperty({__proto__:null,NullSphere:L,altitudeAt:lt,angleToSilhouette:ct,axisAt:ft,clear:D,closestPoint:st,closestPointOnSilhouette:ot,containsPoint:pt,copy:$,create:N,distanceToSilhouette:ut,elevate:K,equals:X,exactEquals:V,fromCenterAndRadius:z,fromRadius:F,fromValues:J,getCenter:H,getRadius:G,intersectLine:W,intersectRay:U,intersectRayClosestSilhouette:et,intersectsRay:rt,projectPoint:it,setAltitudeAt:ht,setExtent:Q,tmpSphere:mt,union:dt,wrap:B},Symbol.toStringTag,{value:"Module"}));export{rt as I,$ as O,G as V,H as Z,C as d,v as p,pt as s,N as w};
//# sourceMappingURL=p-d8a5b509.js.map