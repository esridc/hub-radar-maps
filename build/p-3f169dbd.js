import{nD as e}from"./p-3013819f.js";import{i as t,b as i,aA as s,w as a,N as h,aB as l,r,aC as n,C as o,a2 as u,ae as c,aD as b,al as d,Y as f,aE as m}from"./p-6635e9bb.js";class v extends l{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,t){this.processor&&this.processor.processRow(t),super._onInsertIndex(e,t)}_onSetIndex(e,t,i){this.processor&&this.processor.processRow(i),super._onSetIndex(e,t,i)}}class g extends s{constructor(e,t,i){super(i),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=t,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get("visible")}}class w extends t{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new v}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll((e=>{const t=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,"clear"===e.type)a(t,(e=>{e.dispose()})),t.length=0,this._onDataClear();else if("push"===e.type){const i=new g(this,e.newValue,this._makeDataItem(e.newValue));t.push(i),this.processDataItem(i)}else if("setIndex"===e.type){const i=t[e.index],s=this._makeDataItem(e.newValue);i.bullets&&0==i.bullets.length&&(i.bullets=void 0),h(s).forEach((e=>{i.animate({key:e,to:s[e],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})})),i.dataContext=e.newValue}else if("insertIndex"===e.type){const i=new g(this,e.newValue,this._makeDataItem(e.newValue));t.splice(e.index,0,i),this.processDataItem(i)}else if("removeIndex"===e.type){t[e.index].dispose(),t.splice(e.index,1)}else{if("moveIndex"!==e.type)throw new Error("Unknown IStreamEvent type");{const i=t[e.oldIndex];t.splice(e.oldIndex,1),t.splice(e.newIndex,0,i)}}this._afterDataChange()})))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},a(this.valueFields,(e=>{this.get(e+"Field")&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})}))),this.fields&&(this._fields=[],this._fieldsF={},a(this.fields,(e=>{this.get(e+"Field")&&(this._fields.push(e),this._fieldsF[e]=e+"Field")})))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){const t={};return this._valueFields&&a(this._valueFields,(i=>{const s=this.get(this._valueFieldsF[i].fieldKey);t[i]=e[s],t[this._valueFieldsF[i].workingKey]=t[i]})),this._fields&&a(this._fields,(i=>{const s=this.get(this._fieldsF[i]);t[i]=e[s]})),t}makeDataItem(e){let t=new g(this,void 0,e);return this.processDataItem(t),t}pushDataItem(e){const t=this.makeDataItem(e);return this._mainDataItems.push(t),t}disposeDataItem(e){}showDataItem(t,i){return e(this,void 0,void 0,(function*(){t.set("visible",!0)}))}hideDataItem(t,i){return e(this,void 0,void 0,(function*(){t.set("visible",!1)}))}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}function p(e){return new Promise(((t,i)=>{setTimeout(t,e)}))}Object.defineProperty(w,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(w,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:t.classNames.concat([w.className])});let _={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2629742400,year:31536e6};function $(e,t){return null==t&&(t=1),_[e]*t}function j(e,t,i,s,a,h,l){if(!l||a){let l=0;switch(a||"millisecond"==t||(l=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-l)),t){case"day":let t=e.getUTCDate();if(i>1){if(h){h=j(h,"day",1);let t=e.getTime()-h.getTime(),s=Math.floor(t/$("day")/i),a=$("day",s*i);e.setTime(h.getTime()+a-l*$("minute"))}}else e.setUTCDate(t);e.setUTCHours(0,0,0,0);break;case"second":let a=e.getUTCSeconds();i>1&&(a=Math.floor(a/i)*i),e.setUTCSeconds(a,0);break;case"millisecond":if(1==i)return e;let r=e.getUTCMilliseconds();r=Math.floor(r/i)*i,e.setUTCMilliseconds(r);break;case"hour":let n=e.getUTCHours();i>1&&(n=Math.floor(n/i)*i),e.setUTCHours(n,0,0,0);break;case"minute":let u=e.getUTCMinutes();i>1&&(u=Math.floor(u/i)*i),e.setUTCMinutes(u,0,0);break;case"month":let c=e.getUTCMonth();i>1&&(c=Math.floor(c/i)*i),e.setUTCMonth(c,1),e.setUTCHours(0,0,0,0);break;case"year":let b=e.getUTCFullYear();i>1&&(b=Math.floor(b/i)*i),e.setUTCFullYear(b,0,1),e.setUTCHours(0,0,0,0);break;case"week":let d=e.getUTCDate(),f=e.getUTCDay();o(s)||(s=1),d=f>=s?d-f+s:d-(7+f)+s,e.setUTCDate(d),e.setUTCHours(0,0,0,0)}if(!a&&"millisecond"!=t&&(e.setUTCMinutes(e.getUTCMinutes()+l),"day"==t||"week"==t||"month"==t||"year"==t)){let t=e.getTimezoneOffset();if(t!=l){let i=t-l;e.setUTCMinutes(e.getUTCMinutes()+i)}}return e}{if(isNaN(e.getTime()))return e;let r=l.offsetUTC(e),n=e.getTimezoneOffset(),u=l.parseDate(e),c=u.year,b=u.month,d=u.day,f=u.hour,m=u.minute,v=u.second,g=u.millisecond,w=u.weekday,p=r-n;switch(t){case"day":if(i>1&&h){h=j(h,"day",1,s,a,void 0,l);let t=e.getTime()-h.getTime(),r=Math.floor(t/$("day")/i),n=$("day",r*i);e.setTime(h.getTime()+n),u=l.parseDate(e),c=u.year,b=u.month,d=u.day}f=0,m=p,v=0,g=0;break;case"second":m+=p,i>1&&(v=Math.floor(v/i)*i),g=0;break;case"millisecond":m+=p,i>1&&(g=Math.floor(g/i)*i);break;case"hour":i>1&&(f=Math.floor(f/i)*i),m=p,v=0,g=0;break;case"minute":i>1&&(m=Math.floor(m/i)*i),m+=p,v=0,g=0;break;case"month":i>1&&(b=Math.floor(b/i)*i),d=1,f=0,m=p,v=0,g=0;break;case"year":i>1&&(c=Math.floor(c/i)*i),b=0,d=1,f=0,m=p,v=0,g=0;break;case"week":o(s)||(s=1),d=w>=s?d-w+s:d-(7+w)+s,f=0,m=p,v=0,g=0}let _=(e=new Date(c,b,d,f,m,v,g)).getTimezoneOffset(),M=l.offsetUTC(e)-_;return M!=p&&e.setTime(e.getTime()+6e4*(M-p)),e}}class M extends w{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new l}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:t.new(this._root,{width:r,height:r,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll((e=>{if("clear"===e.type)this._handleBullets(this.dataItems);else if("push"===e.type)this._handleBullets(this.dataItems);else if("setIndex"===e.type)this._handleBullets(this.dataItems);else if("insertIndex"===e.type)this._handleBullets(this.dataItems);else if("removeIndex"===e.type)this._handleBullets(this.dataItems);else{if("moveIndex"!==e.type)throw new Error("Unknown IListEvent type");this._handleBullets(this.dataItems)}})))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}endIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}_handleBullets(e){a(e,(e=>{const t=e.bullets;t&&(a(t,(e=>{e.dispose()})),e.bullets=void 0)})),this.markDirtyValues()}getDataItemById(e){return n(this.dataItems,(t=>t.get("id")==e))}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each((t=>{this._makeBullet(e,t)})))}_shouldMakeBullet(e){return!0}_makeBullet(e,t,i){const s=t(this._root,this,e);return s&&(s._index=i,this._makeBulletReal(e,s)),s}_makeBulletReal(e,t){let i=t.get("sprite");i&&(i._setDataItem(e),i.setRaw("position","absolute"),this.bulletsContainer.children.push(i)),t.series=this,e.bullets.push(t)}addBullet(e,t){e.bullets||(e.bullets=[]),t&&this._makeBulletReal(e,t)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),t=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const e=this.getPrivate("baseValueSeries");e&&this._disposers.push(e.onPrivate("startIndex",(()=>{this.markDirtyValues()})))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,0!=e&&(this._psi=void 0))),this._psi==e&&this._pei==t&&!this.isPrivateDirty("adjustedStartIndex")||this._selectionAggregatesCalculated||(0===e&&t===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,t),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let e=this.get("tooltip");e&&(e.hide(0),e.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let e;const t=this.get("legendDataItem");if(t&&(e=t.get("markerRectangle"),e&&this.isVisible())){if(this.isDirty("stroke")){let t=this.get("stroke");e.set("stroke",t)}if(this.isDirty("fill")){let t=this.get("fill");e.set("fill",t)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let e=this.startIndex(),t=this.endIndex();t<this.dataItems.length&&t++;for(let i=e;i<t;i++){let e=this.dataItems[i];e.bullets||this._makeBullets(e)}}}_adjustStartIndex(e){return e}_calculateAggregates(e,t){let i=this._valueFields;if(!i)throw new Error("No value fields are set for the series.");const s={},h={},l={},r={},n={},o={},u={},c={},b={};a(i,(e=>{s[e]=0,h[e]=0,l[e]=0})),a(i,(i=>{let a=i+"Change",d=i+"ChangePercent",f=i+"ChangePrevious",m=i+"ChangePreviousPercent",v=i+"ChangeSelection",g=i+"ChangeSelectionPercent",w="valueY";"valueX"!=i&&"openValueX"!=i&&"lowValueX"!=i&&"highValueX"!=i||(w="valueX");const p=this.getPrivate("baseValueSeries"),_=this.getPrivate("adjustedStartIndex",e);for(let $=_;$<t;$++){const t=this.dataItems[$];let _=t.get(i);null!=_&&(l[i]++,s[i]+=_,h[i]+=Math.abs(_),c[i]=s[i]/l[i],(r[i]>_||null==r[i])&&(r[i]=_),(n[i]<_||null==n[i])&&(n[i]=_),u[i]=_,null==o[i]&&(o[i]=_,b[i]=_,p&&(o[w]=p._getBase(w))),0===e&&(t.setRaw(a,_-o[w]),t.setRaw(d,(_-o[w])/o[w]*100)),t.setRaw(f,_-b[w]),t.setRaw(m,(_-b[w])/b[w]*100),t.setRaw(v,_-o[w]),t.setRaw(g,(_-o[w])/o[w]*100),b[i]=_)}if(t<this.dataItems.length-1){const e=this.dataItems[t];let s=e.get(i);e.setRaw(f,s-b[w]),e.setRaw(m,(s-b[w])/b[w]*100),e.setRaw(v,s-o[w]),e.setRaw(g,(s-o[w])/o[w]*100)}e>0&&e--,delete b[i];for(let t=e;t<_;t++){const e=this.dataItems[t];let s=e.get(i);null==b[i]&&(b[i]=s),null!=s&&(e.setRaw(f,s-b[w]),e.setRaw(m,(s-b[w])/b[w]*100),e.setRaw(v,s-o[w]),e.setRaw(g,(s-o[w])/o[w]*100),b[i]=s)}})),a(i,(e=>{this.setPrivate(e+"AverageSelection",c[e]),this.setPrivate(e+"CountSelection",l[e]),this.setPrivate(e+"SumSelection",s[e]),this.setPrivate(e+"AbsoluteSumSelection",h[e]),this.setPrivate(e+"LowSelection",r[e]),this.setPrivate(e+"HighSelection",n[e]),this.setPrivate(e+"OpenSelection",o[e]),this.setPrivate(e+"CloseSelection",u[e])})),0===e&&t===this.dataItems.length&&a(i,(e=>{this.setPrivate(e+"Average",c[e]),this.setPrivate(e+"Count",l[e]),this.setPrivate(e+"Sum",s[e]),this.setPrivate(e+"AbsoluteSum",h[e]),this.setPrivate(e+"Low",r[e]),this.setPrivate(e+"High",n[e]),this.setPrivate(e+"Open",o[e]),this.setPrivate(e+"Close",u[e])}))}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&a(e,(e=>{const t=e.minValue||this.getPrivate(e.dataField+"Low")||0,i=e.maxValue||this.getPrivate(e.dataField+"High")||0;a(e.target._entities,(s=>{const a=s.dataItem.get(e.dataField);if(o(a))if(e.customFunction)e.customFunction.call(this,s,t,i,a);else{let h,l;h=e.logarithmic?(Math.log(a)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E):(a-t)/(i-t),!o(a)||o(h)&&Math.abs(h)!=1/0||(h=.5),o(e.min)?l=e.min+(e.max-e.min)*h:e.min instanceof u?l=u.interpolate(h,e.min,e.max):e.min instanceof c&&(l=b(h,e.min,e.max)),s.set(e.key,l);const r=s.states;if(r){const t=r.lookup("default");t&&t.set(e.key,l)}}else{e.neutral&&s.set(e.key,e.neutral);const t=s.states;if(t){const i=t.lookup("default");i&&i.set(e.key,e.neutral)}}}))})),this.get("visible")){let e=this.dataItems.length,t=this.startIndex(),i=this.endIndex();i<e&&i++,t>0&&t--;for(let e=0;e<t;e++)this._hideBullets(this.dataItems[e]);for(let e=t;e<i;e++)this._positionBullets(this.dataItems[e]);for(let t=i;t<e;t++)this._hideBullets(this.dataItems[t])}}_positionBullets(e){e.bullets&&a(e.bullets,(e=>{this._positionBullet(e);const i=e.get("sprite");e.get("dynamic")&&(i&&(i._markDirtyKey("fill"),i.markDirtySize()),i instanceof t&&i.walkChildren((e=>{e._markDirtyKey("fill"),e.markDirtySize(),e instanceof d&&e.text.markDirtyText()}))),i instanceof d&&i.get("populateText")&&i.text.markDirtyText()}))}_hideBullets(e){e.bullets&&a(e.bullets,(e=>{let t=e.get("sprite");t&&t.setPrivate("visible",!1)}))}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){const t=e.bullets;t&&a(t,(e=>{e.dispose()}))}_getItemReaderLabel(){return""}showDataItem(t,i){const s=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return e(this,void 0,void 0,(function*(){const e=[s.showDataItem.call(this,t,i)],h=t.bullets;h&&a(h,(t=>{const s=t.get("sprite");s&&e.push(s.show(i))})),yield Promise.all(e)}))}hideDataItem(t,i){const s=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return e(this,void 0,void 0,(function*(){const e=[s.hideDataItem.call(this,t,i)],h=t.bullets;h&&a(h,(t=>{const s=t.get("sprite");s&&e.push(s.hide(i))})),yield Promise.all(e)}))}_sequencedShowHide(t,i){return e(this,void 0,void 0,(function*(){if(this.get("sequencedInterpolation"))if(o(i)||(i=this.get("interpolationDuration",0)),i>0){const s=this.startIndex(),a=this.endIndex();yield Promise.all(f(this.dataItems,((h,l)=>e(this,void 0,void 0,(function*(){let e=i||0;(l<s-10||l>a+10)&&(e=0);let r=this.get("sequencedDelay",0)+e/(a-s);yield p(r*(l-s)),t?yield this.showDataItem(h,e):yield this.hideDataItem(h,e)})))))}else yield Promise.all(f(this.dataItems,(e=>t?this.showDataItem(e,0):this.hideDataItem(e,0))))}))}updateLegendValue(e){if(e){const t=e.get("legendDataItem");if(t){const i=t.get("valueLabel");if(i){const t=i.text;let s="";i._setDataItem(e),s=this.get("legendValueText",t.get("text","")),i.set("text",s),t.markDirtyText()}const s=t.get("label");if(s){const t=s.text;let i="";s._setDataItem(e),i=this.get("legendLabelText",t.get("text","")),s.set("text",i),t.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();const e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){const t=this.dataItems[this.startIndex()];return t?t.get(e):0}}function I(e,t){for(let i=0,s=t.length;i<s;i++){const s=t[i];if(s.length>0){let t=s[0];if(t.length>0){let i=t[0];e.moveTo(i.x,i.y);for(let t=0,i=s.length;t<i;t++)O(e,s[t])}}}}function O(e,t){for(let i=0,s=t.length;i<s;i++){const s=t[i];e.lineTo(s.x,s.y)}}Object.defineProperty(M,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(M,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:w.classNames.concat([M.className])});class k extends i{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("points"),t=this.get("segments");if(e&&e.length>0){let t=e[0];this._display.moveTo(t.x,t.y),I(this._display,[[e]])}else if(t)I(this._display,t);else if(!this.get("draw")){let e=this.width(),t=this.height();this._display.moveTo(0,0),this._display.lineTo(e,t)}}}}function x(e){return function(){return e}}Object.defineProperty(k,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(k,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:i.classNames.concat([k.className])});const y=Math.PI,C=2*y,D=1e-6,S=C-D;function N(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function L(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return N;const i=10**t;return function(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=Math.round(arguments[t]*i)/i+e[t]}}class B{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?N:L(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,s){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(e,t,i,s,a,h){this._append`C${+e},${+t},${+i},${+s},${this._x1=+a},${this._y1=+h}`}arcTo(e,t,i,s,a){if(e=+e,t=+t,i=+i,s=+s,(a=+a)<0)throw new Error(`negative radius: ${a}`);let h=this._x1,l=this._y1,r=i-e,n=s-t,o=h-e,u=l-t,c=o*o+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(c>D)if(Math.abs(u*r-n*o)>D&&a){let b=i-h,d=s-l,f=r*r+n*n,m=b*b+d*d,v=Math.sqrt(f),g=Math.sqrt(c),w=a*Math.tan((y-Math.acos((f+c-m)/(2*v*g)))/2),p=w/g,_=w/v;Math.abs(p-1)>D&&this._append`L${e+p*o},${t+p*u}`,this._append`A${a},${a},0,0,${+(u*b>o*d)},${this._x1=e+_*r},${this._y1=t+_*n}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,i,s,a,h){if(e=+e,t=+t,h=!!h,(i=+i)<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(s),r=i*Math.sin(s),n=e+l,o=t+r,u=1^h,c=h?s-a:a-s;null===this._x1?this._append`M${n},${o}`:(Math.abs(this._x1-n)>D||Math.abs(this._y1-o)>D)&&this._append`L${n},${o}`,i&&(c<0&&(c=c%C+C),c>S?this._append`A${i},${i},0,1,${u},${e-l},${t-r}A${i},${i},0,1,${u},${this._x1=n},${this._y1=o}`:c>D&&this._append`A${i},${i},0,${+(c>=y)},${u},${this._x1=e+i*Math.cos(a)},${this._y1=t+i*Math.sin(a)}`)}rect(e,t,i,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function A(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(null==i)t=null;else{const e=Math.floor(i);if(!(e>=0))throw new RangeError(`invalid digits: ${i}`);t=e}return e},()=>new B(t)}class E extends t{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(t.new(this._root,{width:r,height:r,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:t.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:r,height:r})})}}Object.defineProperty(E,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(E,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:t.classNames.concat([E.className])});class P extends E{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:t.new(this._root,{width:r,height:r,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new m})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll((t=>{if("clear"===t.type){a(t.oldValues,(e=>{this._removeSeries(e)}));const e=this.get("colors");e&&e.reset()}else if("push"===t.type)e.moveValue(t.newValue),this._processSeries(t.newValue);else if("setIndex"===t.type)e.setIndex(t.index,t.newValue),this._processSeries(t.newValue);else if("insertIndex"===t.type)e.insertIndex(t.index,t.newValue),this._processSeries(t.newValue);else if("removeIndex"===t.type)this._removeSeries(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IListEvent type");e.moveValue(t.value,t.newIndex),this._processSeries(t.value)}})))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}Object.defineProperty(P,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(P,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:E.classNames.concat([P.className])});class T extends k{}Object.defineProperty(T,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(T,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:k.classNames.concat([T.className])});export{M as D,j as I,P as R,T as U,A as V,w as _,g,x as k};
//# sourceMappingURL=p-3f169dbd.js.map