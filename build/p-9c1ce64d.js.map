{"version":3,"names":["ComboboxItem","ComboboxItemGroup","ComboboxChildSelector","CSS","chipInvisible","selectionDisplayFit","selectionDisplaySingle","listContainer","getAncestors","element","parent","parentElement","closest","grandparent","filter","el","getItemAncestors","item","ancestors","nodeName","getItemChildren","nodeListToArray","querySelectorAll","hasActiveChildren","node","items","selected","length","getDepth","result","document","evaluate","XPathResult","UNORDERED_NODE_SNAPSHOT_TYPE","snapshotLength","isSingleLike","selectionMode","includes","calciteSize48","icon","iconActive","iconIndent","custom","dot","single","label","active","title","textContainer","comboboxItemCss","proxyCustomElement","HTMLElement","constructor","super","this","__registerHost","__attachShadow","calciteComboboxItemChange","createEvent","itemClickHandler","toggleSelected","disabled","undefined","guid","iconFlipRtl","textLabel","value","filterDisabled","scale","selectedWatchHandler","emit","connectedCallback","connectConditionalSlotComponent","connectInteractive","disconnectedCallback","disconnectConditionalSlotComponent","disconnectInteractive","componentDidRender","updateHostInteraction","isSinglePersistSelect","renderIcon","iconPath","h","class","flipRtl","key","getIconScale","renderSelectIndicator","showDot","renderChildren","getSlotted","render","isSingleSelect","defaultIcon","classes","depth","Host","InteractiveContainer","style","id","onClick","watchers","defineCustomElement","customElements","components","forEach","tagName","get","define","defineCustomElement$1","button","XButton","ref","tabIndex","type","comboboxCss","isGroup","itemUidPrefix","chipUidPrefix","labelUidPrefix","listboxUidPrefix","inputUidPrefix","Combobox","calciteComboboxChange","calciteComboboxFilterChange","calciteComboboxChipClose","calciteComboboxBeforeClose","calciteComboboxClose","calciteComboboxBeforeOpen","calciteComboboxOpen","placement","defaultMenuPlacement","internalValueChangeFlag","textInput","mutationObserver","createObserver","updateItems","resizeObserver","setMaxScrollerHeight","refreshSelectionDisplay","inputHeight","ignoreSelectedEventsFlag","openTransitionProp","setFilteredPlacements","flipPlacements","filteredFlipPlacements","filterComputedPlacements","getValue","selectedItems","map","toString","onLabelClick","setFocus","keyDownHandler","event","activeChipIndex","activeItemIndex","allowCustomValues","text","addCustomChip","preventDefault","open","clearInputValue","filterItems","updateActiveItemIndex","previousChip","nextChip","shiftActiveItemIndex","comboboxInViewport","scrollIntoView","ensureRecentSelectedItemIsActive","defaultPrevented","scrollToActiveItem","filteredItems","clearDisabled","clearValue","toggleSelection","removeActiveChip","submitForm","notDeletable","selectionDisplay","selectedHiddenChipsCount","isMulti","removeLastChip","toggleCloseEnd","removeEventListener","toggleOpenEnd","async","listContainerEl","referenceEl","reposition","maxScrollerHeight","getMaxScrollerHeight","maxHeight","minWidth","clientWidth","calciteChipCloseHandler","comboboxItem","selection","find","clickHandler","composedPath","some","classList","contains","componentLoaded","allSelectedIndicatorChipEl","chipContainerEl","placeholder","selectedIndicatorChipEl","chipContainerElGap","parseInt","getComputedStyle","gap","replace","chipContainerElWidth","getElementWidth","fontSize","fontFamily","inputTextWidth","getTextWidth","inputWidth","allSelectedIndicatorChipElWidth","selectedIndicatorChipElWidth","largestSelectedIndicatorChipWidth","Math","max","setCompactSelectionDisplay","chipEls","Array","from","shadowRoot","chipEl","closable","availableHorizontalChipElSpace","round","refreshChipDisplay","setVisibleAndHiddenChips","setFloatingEl","floatingEl","connectFloatingUI","setContainerEl","observe","transitionEl","setChipContainerEl","setReferenceEl","setAllSelectedIndicatorChipEl","setSelectedIndicatorChipEl","inputHandler","target","filteredData","debounce","data","itemsAndGroups","getItemsAndGroups","hidden","ancestor","getFilteredItems","internalComboboxChangeEvent","emitComboboxChange","getSelectedItems","match","sort","a","b","aIdx","indexOf","bIdx","getItems","groupItems","getGroupItems","getData","needsIcon","getNeedsIcon","groupItem","index","afterEmptyGroup","nextGroupItem","children","activeItem","height","calculateSingleItemHeight","offsetHeight","scrollTop","offsetTop","comboboxFocusHandler","focus","form","placeholderIcon","placeholderIconFlipRtl","maxItems","validationMessage","validationIcon","name","overlayPositioning","required","status","messages","messageOverrides","activeDescendant","compactSelectionDisplay","selectedVisibleChipsCount","effectiveLocale","defaultMessages","openHandler","onToggleOpenCloseComponent","handleDisabledChange","maxItemsHandler","overlayPositioningHandler","handlePropsChange","valueHandler","isArray","onMessagesChange","flipPlacementsHandler","selectedItemsHandler","documentClickHandler","trim","calciteComboboxItemChangeHandler","newIndex","delayed","componentFocusable","connectLocalized","connectMessages","connectLabel","connectForm","childList","subtree","setUpLoadableComponent","setUpMessages","componentDidLoad","afterConnectDefaultValueSet","setComponentLoaded","componentDidUpdate","disconnect","disconnectLabel","disconnectForm","disconnectFloatingUI","disconnectLocalized","disconnectMessages","textHandler","effectiveLocaleChange","updateMessages","resetText","bounding","getBoundingClientRect","top","left","right","window","innerWidth","documentElement","bottom","innerHeight","clientHeight","onBeforeOpen","onOpen","onBeforeClose","onClose","targetIndex","hideChip","add","CSS$1","showChip","remove","chipElWidth","newCompactBreakpoint","maxCompactBreakpoint","newSelectedVisibleChipsCount","newSelectedHiddenChipsCount","itemsToProcess","child","updateAncestors","existingItem","createElement","appendChild","focusChip","last","chip","querySelector","delta","i","isAllSelected","renderChips","chipClasses","reverse","pathLabel","join","dismissLabel","removeTag","onCalciteChipClose","renderAllSelectedIndicatorChip","allSelected","renderAllSelectedIndicatorChipCompact","all","renderSelectedIndicatorChip","selectedItemsCount","renderSelectedIndicatorChipCompact","showingInlineIcon","selectedItem","selectedIcon","singleSelectionMode","renderInput","showLabel","getLabelText","input","onFocus","onInput","renderListBoxOptions","toAriaBoolean","role","tabindex","renderFloatingUIContainer","FloatingCSS","animation","animationActive","list","renderSelectedOrPlaceholderIcon","renderChevronIcon","allSelectionDisplay","singleSelectionDisplay","fitSelectionDisplay","isClearable","wrapper","onKeyDown","htmlFor","clear","HiddenFormInputSlot","component","Validation","message","assetsDirs","defineCustomElement$4","defineCustomElement$3","defineCustomElement$2","hourToMinutes","timeZoneNameBlockList","timeZoneOffsetToDecimal","shortOffsetTimeZoneName","minusSign","hyphen","toOffsetValue","timeZoneName","referenceDateInMs","offset","getTimeZoneShortOffset","Number","getUserTimeZoneOffset","localDate","Date","getTimezoneOffset","getUserTimeZoneName","dateFormatter","Intl","DateTimeFormat","resolvedOptions","timeZone","timeZoneGroups","createTimeZoneItems","locale","mode","referenceDate","getTime","timeZoneNames","supportedValuesOf","Promise","import","then","groupTimeZones","DateEngine","dateEngine","groupDateRange","startDate","toISOString","listFormatter","ListFormat","group","indexOffsets","removedSoFar","tzs","tz","labelTzIndices","groupRepTz","decimalOffset","tzLabels","timeZoneLabel","split","pop","createTimeZoneOffsetLabel","format","filterValue","toUserFriendlyName","groupA","groupB","offsetLabel","groupLabel","now","dateTimeFormat","getDateTimeFormat","parts","formatToParts","inputTimeZoneCss","InputTimeZone","calciteInputTimeZoneBeforeClose","calciteInputTimeZoneBeforeOpen","calciteInputTimeZoneChange","calciteInputTimeZoneClose","calciteInputTimeZoneOpen","setComboboxRef","comboboxEl","onComboboxBeforeClose","stopPropagation","onComboboxBeforeOpen","onComboboxChange","combobox","findTimeZoneItem","getAttribute","selectedValue","selectedTimeZoneItem","onComboboxClose","onComboboxOpen","handleTimeZoneItemPropsChange","updateTimeZoneItemsAndSelection","handleValueChange","oldValue","timeZoneItem","effectiveLocaleWatcher","valueToMatch","timeZoneItems","fallbackValue","chooseTimeZone","lang","onCalciteComboboxBeforeClose","onCalciteComboboxBeforeOpen","onCalciteComboboxChange","onCalciteComboboxClose","onCalciteComboboxOpen","delegatesFocus","defineCustomElement$6","defineCustomElement$5","CalciteInputTimeZone"],"sources":["./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/utils2.js","./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/core.js","./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/combobox-item.js","./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/combobox.js","./node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/calcite-input-time-zone.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v2.7.0\n */\nimport { x as nodeListToArray } from './dom.js';\nimport { Build } from '@stencil/core/internal/client/index.js';\n\nconst ComboboxItem = \"CALCITE-COMBOBOX-ITEM\";\nconst ComboboxItemGroup = \"CALCITE-COMBOBOX-ITEM-GROUP\";\nconst ComboboxChildSelector = `${ComboboxItem}, ${ComboboxItemGroup}`;\nconst CSS = {\n    chipInvisible: \"chip--invisible\",\n    selectionDisplayFit: \"selection-display-fit\",\n    selectionDisplaySingle: \"selection-display-single\",\n    listContainer: \"list-container\",\n};\n\nfunction getAncestors(element) {\n    const parent = element.parentElement?.closest(ComboboxChildSelector);\n    const grandparent = parent?.parentElement?.closest(ComboboxChildSelector);\n    return [parent, grandparent].filter((el) => el);\n}\nfunction getItemAncestors(item) {\n    return (item.ancestors?.filter((el) => el.nodeName === \"CALCITE-COMBOBOX-ITEM\") || []);\n}\nfunction getItemChildren(item) {\n    return nodeListToArray(item.querySelectorAll(\"calcite-combobox-item\"));\n}\nfunction hasActiveChildren(node) {\n    const items = nodeListToArray(node.querySelectorAll(\"calcite-combobox-item\"));\n    return items.filter((item) => item.selected).length > 0;\n}\nfunction getDepth(element) {\n    if (!Build.isBrowser) {\n        return 0;\n    }\n    const result = document.evaluate(\"ancestor::calcite-combobox-item | ancestor::calcite-combobox-item-group\", element, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);\n    return result.snapshotLength;\n}\nfunction isSingleLike(selectionMode) {\n    return selectionMode.includes(\"single\");\n}\n\nexport { CSS as C, ComboboxChildSelector as a, getItemChildren as b, ComboboxItem as c, ComboboxItemGroup as d, getAncestors as e, getDepth as f, getItemAncestors as g, hasActiveChildren as h, isSingleLike as i };\n\n//# sourceMappingURL=utils2.js.map","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v2.7.0\n */\n/**\n * Do not edit directly\n * Generated on Wed, 27 Mar 2024 01:42:44 GMT\n */\nconst calciteSize24 = \"24px\";\nconst calciteSize32 = \"32px\";\nconst calciteSize44 = \"44px\";\nconst calciteSize48 = \"48px\";\n\nexport { calciteSize32 as a, calciteSize44 as b, calciteSize24 as c, calciteSize48 as d };\n\n//# sourceMappingURL=core.js.map","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v2.7.0\n */\nimport { proxyCustomElement, HTMLElement, createEvent, h, Host } from '@stencil/core/internal/client/index.js';\nimport { c as connectConditionalSlotComponent, d as disconnectConditionalSlotComponent } from './conditionalSlot.js';\nimport { g as getSlotted } from './dom.js';\nimport { g as guid } from './guid.js';\nimport { c as connectInteractive, d as disconnectInteractive, u as updateHostInteraction, I as InteractiveContainer } from './interactive.js';\nimport { e as getAncestors, i as isSingleLike, f as getDepth } from './utils2.js';\nimport { g as getIconScale } from './component.js';\nimport { d as defineCustomElement$1 } from './icon.js';\n\nconst CSS = {\n    icon: \"icon\",\n    iconActive: \"icon--active\",\n    iconIndent: \"icon--indent\",\n    custom: \"icon--custom\",\n    dot: \"icon--dot\",\n    single: \"label--single\",\n    label: \"label\",\n    active: \"label--active\",\n    selected: \"label--selected\",\n    title: \"title\",\n    textContainer: \"text-container\",\n};\n\nconst comboboxItemCss = \"@charset \\\"UTF-8\\\";:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host([hidden]){display:none}[hidden]{display:none}.scale--s{font-size:var(--calcite-font-size--2);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-item-spacing-indent:0.5rem;--calcite-combobox-item-selector-icon-size:1rem}.scale--m{font-size:var(--calcite-font-size--1);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-item-spacing-indent:0.75rem;--calcite-combobox-item-selector-icon-size:1rem}.scale--l{font-size:var(--calcite-font-size-0);line-height:1.25rem;--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.625rem;--calcite-combobox-item-spacing-indent:1rem;--calcite-combobox-item-selector-icon-size:1.5rem}.container{--calcite-combobox-item-indent-value:calc(\\n    var(--calcite-combobox-item-spacing-indent) * var(--calcite-combobox-item-spacing-indent-multiplier)\\n  )}:host(:focus){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host,ul{margin:0px;display:flex;flex-direction:column;padding:0px}:host(:focus),ul:focus{outline:2px solid transparent;outline-offset:2px}.label{position:relative;box-sizing:border-box;display:flex;inline-size:100%;min-inline-size:100%;cursor:pointer;align-items:center;color:var(--calcite-color-text-3);text-decoration-line:none;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);outline-color:transparent;word-wrap:break-word;word-break:break-word;padding-block:var(--calcite-combobox-item-spacing-unit-s);padding-inline:var(--calcite-combobox-item-spacing-unit-l)}:host([disabled]) .label{cursor:default}.label--selected{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1)}.label--active{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand-hover, var(--calcite-color-brand)));outline-offset:calc(\\n            -2px *\\n            calc(\\n              1 -\\n              2 * clamp(\\n                0,\\n                var(--calcite-offset-invert-focus),\\n                1\\n              )\\n            )\\n          )}.label:hover,.label:active{background-color:var(--calcite-color-foreground-2);color:var(--calcite-color-text-1);text-decoration-line:none;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.title{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.icon{display:inline-flex;opacity:0;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);color:var(--calcite-color-border-1)}.icon--indent{padding-inline-start:var(--calcite-combobox-item-indent-value)}.icon--custom{margin-block-start:-1px;padding-inline-start:var(--calcite-combobox-item-spacing-unit-l);color:var(--calcite-color-text-3)}.icon--active{color:var(--calcite-color-text-1)}.icon--dot{display:flex;justify-content:center;min-inline-size:var(--calcite-combobox-item-selector-icon-size)}.icon--dot:before{text-align:start;content:\\\"â€¢\\\"}.label--active .icon{opacity:1}.label--selected .icon{opacity:1;color:var(--calcite-color-brand)}:host(:hover[disabled]) .icon{opacity:1}\";\n\nconst ComboboxItem = /*@__PURE__*/ proxyCustomElement(class ComboboxItem extends HTMLElement {\n    constructor() {\n        super();\n        this.__registerHost();\n        this.__attachShadow();\n        this.calciteComboboxItemChange = createEvent(this, \"calciteComboboxItemChange\", 6);\n        this.itemClickHandler = () => {\n            this.toggleSelected();\n        };\n        this.disabled = false;\n        this.selected = false;\n        this.active = false;\n        this.ancestors = undefined;\n        this.guid = guid();\n        this.icon = undefined;\n        this.iconFlipRtl = false;\n        this.textLabel = undefined;\n        this.value = undefined;\n        this.filterDisabled = undefined;\n        this.selectionMode = \"multiple\";\n        this.scale = \"m\";\n    }\n    selectedWatchHandler() {\n        this.calciteComboboxItemChange.emit();\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    // --------------------------------------------------------------------------\n    connectedCallback() {\n        this.ancestors = getAncestors(this.el);\n        connectConditionalSlotComponent(this);\n        connectInteractive(this);\n    }\n    disconnectedCallback() {\n        disconnectConditionalSlotComponent(this);\n        disconnectInteractive(this);\n    }\n    componentDidRender() {\n        updateHostInteraction(this);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    toggleSelected() {\n        const isSinglePersistSelect = this.selectionMode === \"single-persist\";\n        if (this.disabled || (isSinglePersistSelect && this.selected)) {\n            return;\n        }\n        this.selected = !this.selected;\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    // --------------------------------------------------------------------------\n    renderIcon(iconPath) {\n        return this.icon ? (h(\"calcite-icon\", { class: {\n                [CSS.custom]: !!this.icon,\n                [CSS.iconActive]: this.icon && this.selected,\n                [CSS.iconIndent]: true,\n            }, flipRtl: this.iconFlipRtl, icon: this.icon || iconPath, key: \"icon\", scale: getIconScale(this.scale) })) : null;\n    }\n    renderSelectIndicator(showDot, iconPath) {\n        return showDot ? (h(\"span\", { class: {\n                [CSS.icon]: true,\n                [CSS.dot]: true,\n                [CSS.iconIndent]: true,\n            } })) : (h(\"calcite-icon\", { class: {\n                [CSS.icon]: true,\n                [CSS.iconActive]: this.selected,\n                [CSS.iconIndent]: true,\n            }, flipRtl: this.iconFlipRtl, icon: iconPath, key: \"indicator\", scale: getIconScale(this.scale) }));\n    }\n    renderChildren() {\n        if (getSlotted(this.el)) {\n            return (h(\"ul\", { key: \"default-slot-container\" }, h(\"slot\", null)));\n        }\n        return null;\n    }\n    render() {\n        const { disabled } = this;\n        const isSingleSelect = isSingleLike(this.selectionMode);\n        const showDot = isSingleSelect && !disabled;\n        const defaultIcon = isSingleSelect ? \"dot\" : \"check\";\n        const iconPath = disabled ? \"\" : defaultIcon;\n        const classes = {\n            [CSS.label]: true,\n            [CSS.selected]: this.selected,\n            [CSS.active]: this.active,\n            [CSS.single]: isSingleSelect,\n        };\n        const depth = getDepth(this.el);\n        return (h(Host, { \"aria-hidden\": \"true\" }, h(InteractiveContainer, { disabled: disabled }, h(\"div\", { class: `container scale--${this.scale}`, style: { \"--calcite-combobox-item-spacing-indent-multiplier\": `${depth}` } }, h(\"li\", { class: classes, id: this.guid, onClick: this.itemClickHandler }, this.renderSelectIndicator(showDot, iconPath), this.renderIcon(iconPath), h(\"span\", { class: \"title\" }, this.textLabel)), this.renderChildren()))));\n    }\n    get el() { return this; }\n    static get watchers() { return {\n        \"selected\": [\"selectedWatchHandler\"]\n    }; }\n    static get style() { return comboboxItemCss; }\n}, [1, \"calcite-combobox-item\", {\n        \"disabled\": [516],\n        \"selected\": [1540],\n        \"active\": [516],\n        \"ancestors\": [1040],\n        \"guid\": [513],\n        \"icon\": [513],\n        \"iconFlipRtl\": [516, \"icon-flip-rtl\"],\n        \"textLabel\": [513, \"text-label\"],\n        \"value\": [8],\n        \"filterDisabled\": [516, \"filter-disabled\"],\n        \"selectionMode\": [513, \"selection-mode\"],\n        \"scale\": [1]\n    }, undefined, {\n        \"selected\": [\"selectedWatchHandler\"]\n    }]);\nfunction defineCustomElement() {\n    if (typeof customElements === \"undefined\") {\n        return;\n    }\n    const components = [\"calcite-combobox-item\", \"calcite-icon\"];\n    components.forEach(tagName => { switch (tagName) {\n        case \"calcite-combobox-item\":\n            if (!customElements.get(tagName)) {\n                customElements.define(tagName, ComboboxItem);\n            }\n            break;\n        case \"calcite-icon\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$1();\n            }\n            break;\n    } });\n}\ndefineCustomElement();\n\nexport { ComboboxItem as C, defineCustomElement as d };\n\n//# sourceMappingURL=combobox-item.js.map","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v2.7.0\n */\nimport { h, proxyCustomElement, HTMLElement, createEvent, Host } from '@stencil/core/internal/client/index.js';\nimport { f as filter } from './filter.js';\nimport { z as getElementWidth, A as getTextWidth, t as toAriaBoolean } from './dom.js';\nimport { b as defaultMenuPlacement, f as filterComputedPlacements, c as connectFloatingUI, r as reposition, a as disconnectFloatingUI, F as FloatingCSS } from './floating-ui.js';\nimport { s as submitForm, c as connectForm, a as afterConnectDefaultValueSet, d as disconnectForm, H as HiddenFormInputSlot } from './form.js';\nimport { g as guid } from './guid.js';\nimport { c as connectInteractive, u as updateHostInteraction, d as disconnectInteractive, I as InteractiveContainer } from './interactive.js';\nimport { c as connectLabel, d as disconnectLabel, g as getLabelText } from './label2.js';\nimport { b as componentLoaded, c as componentFocusable, s as setUpLoadableComponent, a as setComponentLoaded } from './loadable.js';\nimport { c as connectLocalized, d as disconnectLocalized } from './locale.js';\nimport { c as createObserver } from './observers.js';\nimport { o as onToggleOpenCloseComponent } from './openCloseComponent.js';\nimport { c as connectMessages, s as setUpMessages, d as disconnectMessages, u as updateMessages } from './t9n.js';\nimport { i as isSingleLike, h as hasActiveChildren, C as CSS$1, a as ComboboxChildSelector, g as getItemAncestors, b as getItemChildren, c as ComboboxItem, d as ComboboxItemGroup } from './utils2.js';\nimport { g as getIconScale } from './component.js';\nimport { d as calciteSize48 } from './core.js';\nimport { V as Validation } from './Validation.js';\nimport { d as defineCustomElement$4 } from './chip.js';\nimport { d as defineCustomElement$3 } from './combobox-item.js';\nimport { d as defineCustomElement$2 } from './icon.js';\nimport { d as defineCustomElement$1 } from './input-message.js';\nimport { d as debounce } from './debounce.js';\n\nconst CSS = {\n    button: \"x-button\",\n};\nfunction XButton({ disabled, key, label, onClick, ref, scale, }) {\n    return (h(\"button\", { \"aria-label\": label, class: CSS.button, disabled: disabled, key: key, onClick: onClick, tabIndex: -1, type: \"button\", \n        // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n        ref: ref },\n        h(\"calcite-icon\", { icon: \"x\", scale: getIconScale(scale) })));\n}\n\nconst comboboxCss = \":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]) .x-button{inline-size:1rem;block-size:1rem}:host([scale=m]) .x-button{inline-size:1.5rem;block-size:1.5rem}:host([scale=l]) .x-button{inline-size:2rem;block-size:2rem}.x-button{margin:0px;display:flex;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-width:2px;background-color:transparent;color:var(--calcite-color-text-3);outline-color:transparent;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;border-radius:50%;border-color:transparent;background-color:var(--calcite-color-foreground-2)}.x-button:active,.x-button:hover{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-3)}.x-button:active{border-style:solid;border-color:var(--calcite-color-brand)}.x-button calcite-icon{color:inherit}:host([scale=s]){font-size:var(--calcite-font-size--2);--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-input-height:1rem;--calcite-internal-combobox-input-margin-block:calc(0.25rem - 1px)}:host([scale=s]) .x-button{margin-inline:0.5rem}:host([scale=m]){font-size:var(--calcite-font-size--1);--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-input-height:1rem;--calcite-internal-combobox-input-margin-block:calc(0.5rem - 1px)}:host([scale=m]) .x-button{margin-inline-end:0.75rem}:host([scale=l]){font-size:var(--calcite-font-size-0);--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-input-height:1.5rem;--calcite-internal-combobox-input-margin-block:calc(0.625rem - 1px)}:host([scale=l]) .x-button{margin-inline-end:1rem}.wrapper{display:flex;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);outline-color:transparent;padding-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);padding-inline:var(--calcite-combobox-item-spacing-unit-l)}:host(:focus-within) .wrapper,.wrapper--active{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand-hover, var(--calcite-color-brand)));outline-offset:calc(\\n            -2px *\\n            calc(\\n              1 -\\n              2 * clamp(\\n                0,\\n                var(--calcite-offset-invert-focus),\\n                1\\n              )\\n            )\\n          )}:host([status=invalid]) .wrapper{border-color:var(--calcite-color-status-danger)}:host([status=invalid]:focus-within) .wrapper{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(\\n            -2px *\\n            calc(\\n              1 -\\n              2 * clamp(\\n                0,\\n                var(--calcite-offset-invert-focus),\\n                1\\n              )\\n            )\\n          )}.wrapper--single{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l);cursor:pointer;flex-wrap:nowrap}.grid-input{position:relative;display:flex;flex-grow:1;flex-wrap:wrap;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;gap:var(--calcite-combobox-item-spacing-unit-s);margin-inline-end:var(--calcite-combobox-item-spacing-unit-s)}.grid-input.selection-display-fit,.grid-input.selection-display-single{flex-wrap:nowrap;overflow:hidden}.input{flex-grow:1;appearance:none;overflow:hidden;text-overflow:ellipsis;border-style:none;background-color:transparent;padding:0px;font-family:inherit;color:var(--calcite-color-text-1);font-size:inherit;block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height);inline-size:100%;margin-block-end:var(--calcite-combobox-item-spacing-unit-s);min-inline-size:4.8125rem}.input:focus{outline:2px solid transparent;outline-offset:2px}.input:placeholder-shown{text-overflow:ellipsis}.input--transparent{opacity:0}.input--single{padding:0px;margin-block:var(--calcite-internal-combobox-input-margin-block)}.wrapper--active .input-single{cursor:text}.input--hidden{pointer-events:none;inline-size:0px;min-inline-size:0px;opacity:0}.input--icon{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.input-wrap{display:flex;flex-grow:1;align-items:center}.input-wrap--single{flex:1 1 0%;overflow:hidden}.label{pointer-events:none;max-inline-size:100%;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;font-weight:var(--calcite-font-weight-normal);block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height)}.label--icon{padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.icon-end,.icon-start{display:flex;cursor:pointer;align-items:center}.icon-end{flex:none}.floating-ui-container{--calcite-floating-ui-z-index:var(--calcite-z-index-dropdown);display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index);visibility:hidden}.floating-ui-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-z-index);border-radius:0.25rem}.floating-ui-container[data-placement^=bottom] .calcite-floating-ui-anim{transform:translateY(-5px)}.floating-ui-container[data-placement^=top] .calcite-floating-ui-anim{transform:translateY(5px)}.floating-ui-container[data-placement^=left] .calcite-floating-ui-anim{transform:translateX(5px)}.floating-ui-container[data-placement^=right] .calcite-floating-ui-anim{transform:translateX(-5px)}.floating-ui-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}.floating-ui-container--active{visibility:visible}@media (forced-colors: active){.wrapper,.floating-ui-container--active{border:1px solid canvasText}}.screen-readers-only{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.list-container{max-block-size:45vh;overflow-y:auto;background-color:var(--calcite-color-foreground-1);inline-size:var(--calcite-dropdown-width)}.list{margin:0px;display:block;padding:0px}.list--hide{block-size:0px;overflow:hidden}calcite-chip{--calcite-animation-timing:0}.chip{margin-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);max-inline-size:100%}.chip--active{background-color:var(--calcite-color-foreground-3)}.chip--invisible{visibility:hidden;position:absolute}.item{display:block}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:0.5rem}:host([scale=s]) .validation-container{padding-block-start:0.25rem}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}::slotted(calcite-combobox-item-group:not(:first-child)){padding-block-start:var(--calcite-combobox-item-spacing-unit-l)}\";\n\nconst isGroup = (el) => el.tagName === ComboboxItemGroup;\nconst itemUidPrefix = \"combobox-item-\";\nconst chipUidPrefix = \"combobox-chip-\";\nconst labelUidPrefix = \"combobox-label-\";\nconst listboxUidPrefix = \"combobox-listbox-\";\nconst inputUidPrefix = \"combobox-input-\";\nconst Combobox = /*@__PURE__*/ proxyCustomElement(class Combobox extends HTMLElement {\n    constructor() {\n        super();\n        this.__registerHost();\n        this.__attachShadow();\n        this.calciteComboboxChange = createEvent(this, \"calciteComboboxChange\", 6);\n        this.calciteComboboxFilterChange = createEvent(this, \"calciteComboboxFilterChange\", 6);\n        this.calciteComboboxChipClose = createEvent(this, \"calciteComboboxChipClose\", 6);\n        this.calciteComboboxBeforeClose = createEvent(this, \"calciteComboboxBeforeClose\", 6);\n        this.calciteComboboxClose = createEvent(this, \"calciteComboboxClose\", 6);\n        this.calciteComboboxBeforeOpen = createEvent(this, \"calciteComboboxBeforeOpen\", 6);\n        this.calciteComboboxOpen = createEvent(this, \"calciteComboboxOpen\", 6);\n        this.placement = defaultMenuPlacement;\n        this.internalValueChangeFlag = false;\n        this.textInput = null;\n        this.mutationObserver = createObserver(\"mutation\", () => this.updateItems());\n        this.resizeObserver = createObserver(\"resize\", () => {\n            this.setMaxScrollerHeight();\n            this.refreshSelectionDisplay();\n        });\n        this.guid = guid();\n        this.inputHeight = 0;\n        this.ignoreSelectedEventsFlag = false;\n        this.openTransitionProp = \"opacity\";\n        this.setFilteredPlacements = () => {\n            const { el, flipPlacements } = this;\n            this.filteredFlipPlacements = flipPlacements\n                ? filterComputedPlacements(flipPlacements, el)\n                : null;\n        };\n        this.getValue = () => {\n            const items = this.selectedItems.map((item) => item?.value?.toString());\n            return items?.length ? (items.length > 1 ? items : items[0]) : \"\";\n        };\n        this.onLabelClick = () => {\n            this.setFocus();\n        };\n        this.keyDownHandler = (event) => {\n            const { key } = event;\n            switch (key) {\n                case \"Tab\":\n                    this.activeChipIndex = -1;\n                    this.activeItemIndex = -1;\n                    if (this.allowCustomValues && this.text) {\n                        this.addCustomChip(this.text, true);\n                        event.preventDefault();\n                    }\n                    else if (this.open) {\n                        this.open = false;\n                        event.preventDefault();\n                    }\n                    else if (!this.allowCustomValues && this.text) {\n                        this.clearInputValue();\n                        this.filterItems(\"\");\n                        this.updateActiveItemIndex(-1);\n                    }\n                    break;\n                case \"ArrowLeft\":\n                    this.previousChip();\n                    event.preventDefault();\n                    break;\n                case \"ArrowRight\":\n                    this.nextChip();\n                    event.preventDefault();\n                    break;\n                case \"ArrowUp\":\n                    event.preventDefault();\n                    if (this.open) {\n                        this.shiftActiveItemIndex(-1);\n                    }\n                    if (!this.comboboxInViewport()) {\n                        this.el.scrollIntoView();\n                    }\n                    break;\n                case \"ArrowDown\":\n                    event.preventDefault();\n                    if (this.open) {\n                        this.shiftActiveItemIndex(1);\n                    }\n                    else {\n                        this.open = true;\n                        this.ensureRecentSelectedItemIsActive();\n                    }\n                    if (!this.comboboxInViewport()) {\n                        this.el.scrollIntoView();\n                    }\n                    break;\n                case \" \":\n                    if (!this.textInput.value && !event.defaultPrevented) {\n                        if (!this.open) {\n                            this.open = true;\n                            this.shiftActiveItemIndex(1);\n                        }\n                        event.preventDefault();\n                    }\n                    break;\n                case \"Home\":\n                    if (!this.open) {\n                        return;\n                    }\n                    event.preventDefault();\n                    this.updateActiveItemIndex(0);\n                    this.scrollToActiveItem();\n                    if (!this.comboboxInViewport()) {\n                        this.el.scrollIntoView();\n                    }\n                    break;\n                case \"End\":\n                    if (!this.open) {\n                        return;\n                    }\n                    event.preventDefault();\n                    this.updateActiveItemIndex(this.filteredItems.length - 1);\n                    this.scrollToActiveItem();\n                    if (!this.comboboxInViewport()) {\n                        this.el.scrollIntoView();\n                    }\n                    break;\n                case \"Escape\":\n                    if (!this.clearDisabled && !this.open) {\n                        this.clearValue();\n                    }\n                    this.open = false;\n                    event.preventDefault();\n                    break;\n                case \"Enter\":\n                    if (this.open && this.activeItemIndex > -1) {\n                        this.toggleSelection(this.filteredItems[this.activeItemIndex]);\n                        event.preventDefault();\n                    }\n                    else if (this.activeChipIndex > -1) {\n                        this.removeActiveChip();\n                        event.preventDefault();\n                    }\n                    else if (this.allowCustomValues && this.text) {\n                        this.addCustomChip(this.text, true);\n                        event.preventDefault();\n                    }\n                    else if (!event.defaultPrevented) {\n                        if (submitForm(this)) {\n                            event.preventDefault();\n                        }\n                    }\n                    break;\n                case \"Delete\":\n                case \"Backspace\":\n                    const notDeletable = this.selectionDisplay === \"single\" ||\n                        (this.selectionDisplay === \"fit\" && this.selectedHiddenChipsCount > 0);\n                    if (notDeletable) {\n                        return;\n                    }\n                    if (this.activeChipIndex > -1) {\n                        event.preventDefault();\n                        this.removeActiveChip();\n                    }\n                    else if (!this.text && this.isMulti()) {\n                        event.preventDefault();\n                        this.removeLastChip();\n                    }\n                    break;\n            }\n        };\n        this.toggleCloseEnd = () => {\n            this.open = false;\n            this.el.removeEventListener(\"calciteComboboxClose\", this.toggleCloseEnd);\n        };\n        this.toggleOpenEnd = () => {\n            this.open = false;\n            this.el.removeEventListener(\"calciteComboboxOpen\", this.toggleOpenEnd);\n        };\n        this.setMaxScrollerHeight = async () => {\n            const { listContainerEl, open, referenceEl } = this;\n            if (!listContainerEl || !open) {\n                return;\n            }\n            await this.reposition(true);\n            const maxScrollerHeight = this.getMaxScrollerHeight();\n            listContainerEl.style.maxHeight = maxScrollerHeight > 0 ? `${maxScrollerHeight}px` : \"\";\n            listContainerEl.style.minWidth = `${referenceEl.clientWidth}px`;\n            await this.reposition(true);\n        };\n        this.calciteChipCloseHandler = (comboboxItem) => {\n            this.open = false;\n            const selection = this.items.find((item) => item === comboboxItem);\n            if (selection) {\n                this.toggleSelection(selection, false);\n            }\n            this.calciteComboboxChipClose.emit();\n        };\n        this.clickHandler = (event) => {\n            const composedPath = event.composedPath();\n            if (composedPath.some((node) => node.tagName === \"CALCITE-CHIP\")) {\n                this.open = false;\n                event.preventDefault();\n                return;\n            }\n            if (composedPath.some((node) => node.classList?.contains(CSS.button))) {\n                this.clearValue();\n                event.preventDefault();\n                return;\n            }\n            this.open = !this.open;\n            this.ensureRecentSelectedItemIsActive();\n        };\n        this.refreshSelectionDisplay = async () => {\n            await componentLoaded(this);\n            if (isSingleLike(this.selectionMode)) {\n                return;\n            }\n            if (!this.textInput) {\n                return;\n            }\n            const { allSelectedIndicatorChipEl, chipContainerEl, selectionDisplay, placeholder, selectedIndicatorChipEl, textInput, } = this;\n            const chipContainerElGap = parseInt(getComputedStyle(chipContainerEl).gap.replace(\"px\", \"\"));\n            const chipContainerElWidth = getElementWidth(chipContainerEl);\n            const { fontSize, fontFamily } = getComputedStyle(textInput);\n            const inputTextWidth = getTextWidth(placeholder, `${fontSize} ${fontFamily}`);\n            const inputWidth = (inputTextWidth || parseInt(calciteSize48)) + chipContainerElGap;\n            const allSelectedIndicatorChipElWidth = getElementWidth(allSelectedIndicatorChipEl);\n            const selectedIndicatorChipElWidth = getElementWidth(selectedIndicatorChipEl);\n            const largestSelectedIndicatorChipWidth = Math.max(allSelectedIndicatorChipElWidth, selectedIndicatorChipElWidth);\n            this.setCompactSelectionDisplay({\n                chipContainerElGap,\n                chipContainerElWidth,\n                inputWidth,\n                largestSelectedIndicatorChipWidth,\n            });\n            if (selectionDisplay === \"fit\") {\n                const chipEls = Array.from(this.el.shadowRoot.querySelectorAll(\"calcite-chip\")).filter((chipEl) => chipEl.closable);\n                const availableHorizontalChipElSpace = Math.round(chipContainerElWidth -\n                    ((this.selectedHiddenChipsCount > 0 ? selectedIndicatorChipElWidth : 0) +\n                        chipContainerElGap +\n                        inputWidth +\n                        chipContainerElGap));\n                this.refreshChipDisplay({ availableHorizontalChipElSpace, chipContainerElGap, chipEls });\n                this.setVisibleAndHiddenChips(chipEls);\n            }\n        };\n        this.setFloatingEl = (el) => {\n            this.floatingEl = el;\n            connectFloatingUI(this, this.referenceEl, this.floatingEl);\n        };\n        this.setContainerEl = (el) => {\n            this.resizeObserver.observe(el);\n            this.listContainerEl = el;\n            this.transitionEl = el;\n        };\n        this.setChipContainerEl = (el) => {\n            this.resizeObserver.observe(el);\n            this.chipContainerEl = el;\n        };\n        this.setReferenceEl = (el) => {\n            this.referenceEl = el;\n            connectFloatingUI(this, this.referenceEl, this.floatingEl);\n        };\n        this.setAllSelectedIndicatorChipEl = (el) => {\n            this.allSelectedIndicatorChipEl = el;\n        };\n        this.setSelectedIndicatorChipEl = (el) => {\n            this.selectedIndicatorChipEl = el;\n        };\n        this.inputHandler = (event) => {\n            const value = event.target.value;\n            this.text = value;\n            this.filterItems(value);\n            if (value) {\n                this.activeChipIndex = -1;\n            }\n        };\n        this.filterItems = (() => {\n            const find = (item, filteredData) => item &&\n                filteredData.some(({ label, value }) => isGroup(item) ? label === item.label : value === item.value && label === item.textLabel);\n            return debounce((text) => {\n                const filteredData = filter(this.data, text);\n                const itemsAndGroups = this.getItemsAndGroups();\n                itemsAndGroups.forEach((item) => {\n                    const hidden = !find(item, filteredData);\n                    item.hidden = hidden;\n                    const [parent, grandparent] = item.ancestors;\n                    if (find(parent, filteredData) || find(grandparent, filteredData)) {\n                        item.hidden = false;\n                    }\n                    if (!hidden) {\n                        item.ancestors.forEach((ancestor) => (ancestor.hidden = false));\n                    }\n                });\n                this.filteredItems = this.getFilteredItems();\n                this.calciteComboboxFilterChange.emit();\n            }, 100);\n        })();\n        this.internalComboboxChangeEvent = () => {\n            this.calciteComboboxChange.emit();\n        };\n        this.emitComboboxChange = debounce(this.internalComboboxChangeEvent, 0);\n        this.getSelectedItems = () => {\n            if (!this.isMulti()) {\n                const match = this.items.find(({ selected }) => selected);\n                return match ? [match] : [];\n            }\n            return (this.items\n                .filter((item) => item.selected && (this.selectionMode !== \"ancestors\" || !hasActiveChildren(item)))\n                /** Preserve order of entered tags */\n                .sort((a, b) => {\n                const aIdx = this.selectedItems.indexOf(a);\n                const bIdx = this.selectedItems.indexOf(b);\n                if (aIdx > -1 && bIdx > -1) {\n                    return aIdx - bIdx;\n                }\n                return bIdx - aIdx;\n            }));\n        };\n        this.updateItems = () => {\n            this.items = this.getItems();\n            this.groupItems = this.getGroupItems();\n            this.data = this.getData();\n            this.selectedItems = this.getSelectedItems();\n            this.filteredItems = this.getFilteredItems();\n            this.needsIcon = this.getNeedsIcon();\n            this.items.forEach((item) => {\n                item.selectionMode = this.selectionMode;\n                item.scale = this.scale;\n            });\n            if (!this.allowCustomValues) {\n                this.setMaxScrollerHeight();\n            }\n            this.groupItems.forEach((groupItem, index, items) => {\n                if (index === 0) {\n                    groupItem.afterEmptyGroup = false;\n                }\n                const nextGroupItem = items[index + 1];\n                if (nextGroupItem) {\n                    nextGroupItem.afterEmptyGroup = groupItem.children.length === 0;\n                }\n            });\n        };\n        this.scrollToActiveItem = () => {\n            const activeItem = this.filteredItems[this.activeItemIndex];\n            if (!activeItem) {\n                return;\n            }\n            const height = this.calculateSingleItemHeight(activeItem);\n            const { offsetHeight, scrollTop } = this.listContainerEl;\n            if (offsetHeight + scrollTop < activeItem.offsetTop + height) {\n                this.listContainerEl.scrollTop = activeItem.offsetTop - offsetHeight + height;\n            }\n            else if (activeItem.offsetTop < scrollTop) {\n                this.listContainerEl.scrollTop = activeItem.offsetTop;\n            }\n        };\n        this.comboboxFocusHandler = () => {\n            if (this.disabled) {\n                return;\n            }\n            this.textInput?.focus();\n        };\n        this.clearDisabled = false;\n        this.selectionDisplay = \"all\";\n        this.open = false;\n        this.disabled = false;\n        this.form = undefined;\n        this.label = undefined;\n        this.placeholder = undefined;\n        this.placeholderIcon = undefined;\n        this.placeholderIconFlipRtl = false;\n        this.maxItems = 0;\n        this.validationMessage = undefined;\n        this.validationIcon = undefined;\n        this.name = undefined;\n        this.allowCustomValues = undefined;\n        this.overlayPositioning = \"absolute\";\n        this.required = false;\n        this.selectionMode = \"multiple\";\n        this.scale = \"m\";\n        this.status = \"idle\";\n        this.value = null;\n        this.flipPlacements = undefined;\n        this.messages = undefined;\n        this.messageOverrides = undefined;\n        this.selectedItems = [];\n        this.filteredItems = [];\n        this.items = [];\n        this.groupItems = [];\n        this.needsIcon = undefined;\n        this.activeItemIndex = -1;\n        this.activeChipIndex = -1;\n        this.activeDescendant = \"\";\n        this.compactSelectionDisplay = false;\n        this.selectedHiddenChipsCount = 0;\n        this.selectedVisibleChipsCount = 0;\n        this.text = \"\";\n        this.effectiveLocale = undefined;\n        this.defaultMessages = undefined;\n    }\n    openHandler() {\n        onToggleOpenCloseComponent(this);\n        if (this.disabled) {\n            this.open = false;\n            return;\n        }\n        this.setMaxScrollerHeight();\n    }\n    handleDisabledChange(value) {\n        if (!value) {\n            this.open = false;\n        }\n    }\n    maxItemsHandler() {\n        this.setMaxScrollerHeight();\n    }\n    overlayPositioningHandler() {\n        this.reposition(true);\n    }\n    handlePropsChange() {\n        this.updateItems();\n    }\n    valueHandler(value) {\n        if (!this.internalValueChangeFlag) {\n            const items = this.getItems();\n            if (Array.isArray(value)) {\n                items.forEach((item) => (item.selected = value.includes(item.value)));\n            }\n            else if (value) {\n                items.forEach((item) => (item.selected = value === item.value));\n            }\n            else {\n                items.forEach((item) => (item.selected = false));\n            }\n            this.updateItems();\n        }\n    }\n    onMessagesChange() {\n        /*  wired up by t9n util */\n    }\n    flipPlacementsHandler() {\n        this.setFilteredPlacements();\n        this.reposition(true);\n    }\n    selectedItemsHandler() {\n        this.internalValueChangeFlag = true;\n        this.value = this.getValue();\n        this.internalValueChangeFlag = false;\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Event Listeners\n    //\n    //--------------------------------------------------------------------------\n    documentClickHandler(event) {\n        if (this.disabled) {\n            return;\n        }\n        const composedPath = event.composedPath();\n        if (composedPath.includes(this.el) || composedPath.includes(this.referenceEl)) {\n            return;\n        }\n        if (!this.allowCustomValues && this.textInput.value) {\n            this.clearInputValue();\n            this.filterItems(\"\");\n            this.updateActiveItemIndex(-1);\n        }\n        if (this.allowCustomValues && this.text.trim().length) {\n            this.addCustomChip(this.text);\n        }\n        this.open = false;\n    }\n    calciteComboboxItemChangeHandler(event) {\n        if (this.ignoreSelectedEventsFlag) {\n            return;\n        }\n        const target = event.target;\n        const newIndex = this.filteredItems.indexOf(target);\n        this.updateActiveItemIndex(newIndex);\n        this.toggleSelection(target, target.selected);\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Public Methods\n    //\n    //--------------------------------------------------------------------------\n    /**\n     * Updates the position of the component.\n     *\n     * @param delayed Reposition the component after a delay\n     * @returns Promise\n     */\n    async reposition(delayed = false) {\n        const { floatingEl, referenceEl, placement, overlayPositioning, filteredFlipPlacements } = this;\n        return reposition(this, {\n            floatingEl,\n            referenceEl,\n            overlayPositioning,\n            placement,\n            flipPlacements: filteredFlipPlacements,\n            type: \"menu\",\n        }, delayed);\n    }\n    /** Sets focus on the component. */\n    async setFocus() {\n        await componentFocusable(this);\n        this.textInput?.focus();\n        this.activeChipIndex = -1;\n        this.activeItemIndex = -1;\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    // --------------------------------------------------------------------------\n    connectedCallback() {\n        connectInteractive(this);\n        connectLocalized(this);\n        connectMessages(this);\n        connectLabel(this);\n        connectForm(this);\n        this.internalValueChangeFlag = true;\n        this.value = this.getValue();\n        this.internalValueChangeFlag = false;\n        this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n        this.updateItems();\n        this.setFilteredPlacements();\n        if (this.open) {\n            this.openHandler();\n            onToggleOpenCloseComponent(this);\n        }\n        connectFloatingUI(this, this.referenceEl, this.floatingEl);\n    }\n    async componentWillLoad() {\n        setUpLoadableComponent(this);\n        this.updateItems();\n        await setUpMessages(this);\n    }\n    componentDidLoad() {\n        afterConnectDefaultValueSet(this, this.getValue());\n        connectFloatingUI(this, this.referenceEl, this.floatingEl);\n        setComponentLoaded(this);\n    }\n    componentDidRender() {\n        if (this.el.offsetHeight !== this.inputHeight) {\n            this.reposition(true);\n            this.inputHeight = this.el.offsetHeight;\n        }\n        updateHostInteraction(this);\n    }\n    componentDidUpdate() {\n        this.refreshSelectionDisplay();\n    }\n    disconnectedCallback() {\n        this.mutationObserver?.disconnect();\n        this.resizeObserver?.disconnect();\n        disconnectInteractive(this);\n        disconnectLabel(this);\n        disconnectForm(this);\n        disconnectFloatingUI(this, this.referenceEl, this.floatingEl);\n        disconnectLocalized(this);\n        disconnectMessages(this);\n    }\n    /** when search text is cleared, reset active to  */\n    textHandler() {\n        this.updateActiveItemIndex(-1);\n    }\n    effectiveLocaleChange() {\n        updateMessages(this, this.effectiveLocale);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    clearValue() {\n        this.ignoreSelectedEventsFlag = true;\n        this.items.forEach((el) => (el.selected = false));\n        this.ignoreSelectedEventsFlag = false;\n        this.selectedItems = [];\n        this.emitComboboxChange();\n        this.open = false;\n        this.updateActiveItemIndex(-1);\n        this.resetText();\n        this.filterItems(\"\");\n        this.setFocus();\n    }\n    clearInputValue() {\n        this.textInput.value = \"\";\n        this.text = \"\";\n    }\n    comboboxInViewport() {\n        const bounding = this.el.getBoundingClientRect();\n        return (bounding.top >= 0 &&\n            bounding.left >= 0 &&\n            bounding.right <= (window.innerWidth || document.documentElement.clientWidth) &&\n            bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight));\n    }\n    onBeforeOpen() {\n        this.scrollToActiveItem();\n        this.calciteComboboxBeforeOpen.emit();\n    }\n    onOpen() {\n        this.calciteComboboxOpen.emit();\n    }\n    onBeforeClose() {\n        this.calciteComboboxBeforeClose.emit();\n    }\n    onClose() {\n        this.calciteComboboxClose.emit();\n    }\n    ensureRecentSelectedItemIsActive() {\n        const { selectedItems } = this;\n        const targetIndex = selectedItems.length === 0 ? 0 : this.items.indexOf(selectedItems[selectedItems.length - 1]);\n        this.updateActiveItemIndex(targetIndex);\n    }\n    hideChip(chipEl) {\n        chipEl.classList.add(CSS$1.chipInvisible);\n    }\n    showChip(chipEl) {\n        chipEl.classList.remove(CSS$1.chipInvisible);\n    }\n    refreshChipDisplay({ chipEls, availableHorizontalChipElSpace, chipContainerElGap, }) {\n        chipEls.forEach((chipEl) => {\n            if (!chipEl.selected) {\n                this.hideChip(chipEl);\n            }\n            else {\n                const chipElWidth = getElementWidth(chipEl);\n                if (chipElWidth && chipElWidth < availableHorizontalChipElSpace) {\n                    availableHorizontalChipElSpace -= chipElWidth + chipContainerElGap;\n                    this.showChip(chipEl);\n                    return;\n                }\n            }\n            this.hideChip(chipEl);\n        });\n    }\n    setCompactSelectionDisplay({ chipContainerElGap, chipContainerElWidth, inputWidth, largestSelectedIndicatorChipWidth, }) {\n        const newCompactBreakpoint = Math.round(largestSelectedIndicatorChipWidth + chipContainerElGap + inputWidth);\n        if (!this.maxCompactBreakpoint || this.maxCompactBreakpoint < newCompactBreakpoint) {\n            this.maxCompactBreakpoint = newCompactBreakpoint;\n        }\n        this.compactSelectionDisplay = chipContainerElWidth < this.maxCompactBreakpoint;\n    }\n    setVisibleAndHiddenChips(chipEls) {\n        let newSelectedVisibleChipsCount = 0;\n        chipEls.forEach((chipEl) => {\n            if (chipEl.selected && !chipEl.classList.contains(CSS$1.chipInvisible)) {\n                newSelectedVisibleChipsCount++;\n            }\n        });\n        if (newSelectedVisibleChipsCount !== this.selectedVisibleChipsCount) {\n            this.selectedVisibleChipsCount = newSelectedVisibleChipsCount;\n        }\n        const newSelectedHiddenChipsCount = this.getSelectedItems().length - newSelectedVisibleChipsCount;\n        if (newSelectedHiddenChipsCount !== this.selectedHiddenChipsCount) {\n            this.selectedHiddenChipsCount = newSelectedHiddenChipsCount;\n        }\n    }\n    getMaxScrollerHeight() {\n        const items = this.getItemsAndGroups().filter((item) => !item.hidden);\n        const { maxItems } = this;\n        let itemsToProcess = 0;\n        let maxScrollerHeight = 0;\n        if (items.length > maxItems) {\n            items.forEach((item) => {\n                if (itemsToProcess < maxItems && maxItems > 0) {\n                    const height = this.calculateSingleItemHeight(item);\n                    if (height > 0) {\n                        maxScrollerHeight += height;\n                        itemsToProcess++;\n                    }\n                }\n            });\n        }\n        return maxScrollerHeight;\n    }\n    calculateSingleItemHeight(item) {\n        if (!item) {\n            return;\n        }\n        let height = item.offsetHeight;\n        // if item has children items, don't count their height twice\n        const children = Array.from(item.querySelectorAll(ComboboxChildSelector));\n        children\n            .map((child) => child?.offsetHeight)\n            .forEach((offsetHeight) => {\n            height -= offsetHeight;\n        });\n        return height;\n    }\n    getItemsAndGroups() {\n        return [...this.groupItems, ...this.items];\n    }\n    toggleSelection(item, value = !item.selected) {\n        if (!item ||\n            (this.selectionMode === \"single-persist\" && item.selected && item.value === this.value)) {\n            return;\n        }\n        if (this.isMulti()) {\n            item.selected = value;\n            this.updateAncestors(item);\n            this.selectedItems = this.getSelectedItems();\n            this.emitComboboxChange();\n            this.resetText();\n            this.filterItems(\"\");\n        }\n        else {\n            this.ignoreSelectedEventsFlag = true;\n            this.items.forEach((el) => (el.selected = el === item ? value : false));\n            this.ignoreSelectedEventsFlag = false;\n            this.selectedItems = this.getSelectedItems();\n            this.emitComboboxChange();\n            if (this.textInput) {\n                this.textInput.value = item.textLabel;\n            }\n            this.open = false;\n            this.updateActiveItemIndex(-1);\n            this.resetText();\n            this.filterItems(\"\");\n        }\n    }\n    updateAncestors(item) {\n        if (this.selectionMode !== \"ancestors\") {\n            return;\n        }\n        const ancestors = getItemAncestors(item);\n        const children = getItemChildren(item);\n        if (item.selected) {\n            ancestors.forEach((el) => {\n                el.selected = true;\n            });\n        }\n        else {\n            children.forEach((el) => (el.selected = false));\n            [...ancestors].forEach((el) => {\n                if (!hasActiveChildren(el)) {\n                    el.selected = false;\n                }\n            });\n        }\n    }\n    getFilteredItems() {\n        return this.items.filter((item) => !item.hidden);\n    }\n    getData() {\n        return this.items.map((item) => ({\n            filterDisabled: item.filterDisabled,\n            value: item.value,\n            label: item.textLabel,\n        }));\n    }\n    getNeedsIcon() {\n        return isSingleLike(this.selectionMode) && this.items.some((item) => item.icon);\n    }\n    resetText() {\n        if (this.textInput) {\n            this.textInput.value = \"\";\n        }\n        this.text = \"\";\n    }\n    getItems() {\n        const items = Array.from(this.el.querySelectorAll(ComboboxItem));\n        return items.filter((item) => !item.disabled);\n    }\n    getGroupItems() {\n        return Array.from(this.el.querySelectorAll(ComboboxItemGroup));\n    }\n    addCustomChip(value, focus) {\n        const existingItem = this.items.find((el) => el.textLabel === value);\n        if (existingItem) {\n            this.toggleSelection(existingItem, true);\n        }\n        else {\n            if (!this.isMulti()) {\n                this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n            }\n            const item = document.createElement(\"calcite-combobox-item\");\n            item.value = value;\n            item.textLabel = value;\n            item.selected = true;\n            this.el.appendChild(item);\n            this.resetText();\n            if (focus) {\n                this.setFocus();\n            }\n            this.updateItems();\n            this.filterItems(\"\");\n            this.emitComboboxChange();\n        }\n    }\n    removeActiveChip() {\n        this.toggleSelection(this.selectedItems[this.activeChipIndex], false);\n        this.setFocus();\n    }\n    removeLastChip() {\n        this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n        this.setFocus();\n    }\n    previousChip() {\n        if (this.text) {\n            return;\n        }\n        const length = this.selectedItems.length - 1;\n        const active = this.activeChipIndex;\n        this.activeChipIndex = active === -1 ? length : Math.max(active - 1, 0);\n        this.updateActiveItemIndex(-1);\n        this.focusChip();\n    }\n    nextChip() {\n        if (this.text || this.activeChipIndex === -1) {\n            return;\n        }\n        const last = this.selectedItems.length - 1;\n        const newIndex = this.activeChipIndex + 1;\n        if (newIndex > last) {\n            this.activeChipIndex = -1;\n            this.setFocus();\n        }\n        else {\n            this.activeChipIndex = newIndex;\n            this.focusChip();\n        }\n        this.updateActiveItemIndex(-1);\n    }\n    focusChip() {\n        const guid = this.selectedItems[this.activeChipIndex]?.guid;\n        const chip = guid\n            ? this.referenceEl.querySelector(`#${chipUidPrefix}${guid}`)\n            : null;\n        chip?.setFocus();\n    }\n    shiftActiveItemIndex(delta) {\n        const { length } = this.filteredItems;\n        const newIndex = (this.activeItemIndex + length + delta) % length;\n        this.updateActiveItemIndex(newIndex);\n        this.scrollToActiveItem();\n    }\n    updateActiveItemIndex(index) {\n        this.activeItemIndex = index;\n        let activeDescendant = null;\n        this.filteredItems.forEach((el, i) => {\n            if (i === index) {\n                el.active = true;\n                activeDescendant = `${itemUidPrefix}${el.guid}`;\n            }\n            else {\n                el.active = false;\n            }\n        });\n        this.activeDescendant = activeDescendant;\n        if (this.activeItemIndex > -1) {\n            this.activeChipIndex = -1;\n        }\n    }\n    isAllSelected() {\n        return this.getItems().length === this.getSelectedItems().length;\n    }\n    isMulti() {\n        return !isSingleLike(this.selectionMode);\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    //--------------------------------------------------------------------------\n    renderChips() {\n        const { activeChipIndex, scale, selectionMode, messages } = this;\n        return this.selectedItems.map((item, i) => {\n            const chipClasses = {\n                chip: true,\n                \"chip--active\": activeChipIndex === i,\n            };\n            const ancestors = [...getItemAncestors(item)].reverse();\n            const pathLabel = [...ancestors, item].map((el) => el.textLabel);\n            const label = selectionMode !== \"ancestors\" ? item.textLabel : pathLabel.join(\" / \");\n            return (h(\"calcite-chip\", { class: chipClasses, closable: true, icon: item.icon, iconFlipRtl: item.iconFlipRtl, id: item.guid ? `${chipUidPrefix}${item.guid}` : null, key: item.textLabel, messageOverrides: { dismissLabel: messages.removeTag }, onCalciteChipClose: () => this.calciteChipCloseHandler(item), scale: scale, selected: item.selected, title: label, value: item.value }, label));\n        });\n    }\n    renderAllSelectedIndicatorChip() {\n        const { compactSelectionDisplay, scale, selectedVisibleChipsCount, setAllSelectedIndicatorChipEl, } = this;\n        const label = this.messages.allSelected;\n        return (h(\"calcite-chip\", { class: {\n                chip: true,\n                [CSS$1.chipInvisible]: !(this.isAllSelected() &&\n                    !selectedVisibleChipsCount &&\n                    !compactSelectionDisplay),\n            }, scale: scale, title: label, value: \"\",\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: setAllSelectedIndicatorChipEl }, label));\n    }\n    renderAllSelectedIndicatorChipCompact() {\n        const { compactSelectionDisplay, scale, selectedVisibleChipsCount } = this;\n        const label = this.messages.all || \"All\";\n        return (h(\"calcite-chip\", { class: {\n                chip: true,\n                [CSS$1.chipInvisible]: !(this.isAllSelected() &&\n                    !selectedVisibleChipsCount &&\n                    compactSelectionDisplay),\n            }, scale: scale, title: label, value: \"\" }, label));\n    }\n    renderSelectedIndicatorChip() {\n        const { compactSelectionDisplay, selectionDisplay, getSelectedItems, scale, selectedHiddenChipsCount, selectedVisibleChipsCount, setSelectedIndicatorChipEl, } = this;\n        let chipInvisible;\n        let label;\n        if (compactSelectionDisplay) {\n            chipInvisible = true;\n        }\n        else {\n            if (selectionDisplay === \"single\") {\n                const selectedItemsCount = getSelectedItems().length;\n                if (this.isAllSelected()) {\n                    chipInvisible = true;\n                }\n                else if (selectedItemsCount > 0) {\n                    chipInvisible = false;\n                }\n                else {\n                    chipInvisible = true;\n                }\n                label = `${selectedItemsCount} ${this.messages.selected}`;\n            }\n            else if (selectionDisplay === \"fit\") {\n                chipInvisible = !!((this.isAllSelected() && selectedVisibleChipsCount === 0) ||\n                    selectedHiddenChipsCount === 0);\n                label =\n                    selectedVisibleChipsCount > 0\n                        ? `+${selectedHiddenChipsCount}`\n                        : `${selectedHiddenChipsCount} ${this.messages.selected}`;\n            }\n        }\n        return (h(\"calcite-chip\", { class: {\n                chip: true,\n                [CSS$1.chipInvisible]: chipInvisible,\n            }, scale: scale, title: label, value: \"\",\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: setSelectedIndicatorChipEl }, label));\n    }\n    renderSelectedIndicatorChipCompact() {\n        const { compactSelectionDisplay, selectionDisplay, getSelectedItems, scale, selectedHiddenChipsCount, } = this;\n        let chipInvisible;\n        let label;\n        if (compactSelectionDisplay) {\n            const selectedItemsCount = getSelectedItems().length;\n            if (this.isAllSelected()) {\n                chipInvisible = true;\n            }\n            else if (selectionDisplay === \"fit\") {\n                chipInvisible = !(selectedHiddenChipsCount > 0);\n                label = `${selectedHiddenChipsCount || 0}`;\n            }\n            else if (selectionDisplay === \"single\") {\n                chipInvisible = !(selectedItemsCount > 0);\n                label = `${selectedItemsCount}`;\n            }\n        }\n        else {\n            chipInvisible = true;\n        }\n        return (h(\"calcite-chip\", { class: {\n                chip: true,\n                [CSS$1.chipInvisible]: chipInvisible,\n            }, scale: scale, title: label, value: \"\" }, label));\n    }\n    get showingInlineIcon() {\n        const { placeholderIcon, selectionMode, selectedItems, open } = this;\n        const selectedItem = selectedItems[0];\n        const selectedIcon = selectedItem?.icon;\n        const singleSelectionMode = isSingleLike(selectionMode);\n        return !open && selectedItem\n            ? !!selectedIcon && singleSelectionMode\n            : !!placeholderIcon && (!selectedItem || singleSelectionMode);\n    }\n    renderInput() {\n        const { guid, disabled, placeholder, selectionMode, selectedItems, open } = this;\n        const single = isSingleLike(selectionMode);\n        const selectedItem = selectedItems[0];\n        const showLabel = !open && single && !!selectedItem;\n        return (h(\"span\", { class: {\n                \"input-wrap\": true,\n                \"input-wrap--single\": single,\n            } }, showLabel && (h(\"span\", { class: {\n                label: true,\n                \"label--icon\": !!selectedItem?.icon,\n            }, key: \"label\" }, selectedItem.textLabel)), h(\"input\", { \"aria-activedescendant\": this.activeDescendant, \"aria-autocomplete\": \"list\", \"aria-controls\": `${listboxUidPrefix}${guid}`, \"aria-label\": getLabelText(this), class: {\n                input: true,\n                \"input--single\": true,\n                \"input--transparent\": this.activeChipIndex > -1,\n                \"input--hidden\": showLabel,\n                \"input--icon\": this.showingInlineIcon && !!this.placeholderIcon,\n            }, disabled: disabled, id: `${inputUidPrefix}${guid}`, key: \"input\", onFocus: this.comboboxFocusHandler, onInput: this.inputHandler, placeholder: placeholder, type: \"text\",\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: (el) => (this.textInput = el) })));\n    }\n    renderListBoxOptions() {\n        return this.filteredItems.map((item) => (h(\"li\", { \"aria-selected\": toAriaBoolean(item.selected), id: item.guid ? `${itemUidPrefix}${item.guid}` : null, role: \"option\", tabindex: \"-1\" }, item.textLabel)));\n    }\n    renderFloatingUIContainer() {\n        const { setFloatingEl, setContainerEl, open } = this;\n        const classes = {\n            [CSS$1.listContainer]: true,\n            [FloatingCSS.animation]: true,\n            [FloatingCSS.animationActive]: open,\n        };\n        return (h(\"div\", { \"aria-hidden\": \"true\", class: {\n                \"floating-ui-container\": true,\n                \"floating-ui-container--active\": open,\n            },\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: setFloatingEl }, h(\"div\", { class: classes,\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: setContainerEl }, h(\"ul\", { class: { list: true, \"list--hide\": !open } }, h(\"slot\", null)))));\n    }\n    renderSelectedOrPlaceholderIcon() {\n        const { selectedItems, placeholderIcon, placeholderIconFlipRtl } = this;\n        const selectedItem = selectedItems[0];\n        const selectedIcon = selectedItem?.icon;\n        return (this.showingInlineIcon && (h(\"span\", { class: \"icon-start\", key: \"selected-placeholder-icon\" }, h(\"calcite-icon\", { class: \"selected-icon\", flipRtl: this.open && selectedItem ? selectedItem.iconFlipRtl : placeholderIconFlipRtl, icon: !this.open && selectedItem ? selectedIcon : placeholderIcon, scale: getIconScale(this.scale) }))));\n    }\n    renderChevronIcon() {\n        const { open } = this;\n        return (h(\"span\", { class: \"icon-end\", key: \"chevron\" }, h(\"calcite-icon\", { icon: open ? \"chevron-up\" : \"chevron-down\", scale: getIconScale(this.scale) })));\n    }\n    render() {\n        const { selectionDisplay, guid, label, open } = this;\n        const singleSelectionMode = isSingleLike(this.selectionMode);\n        const allSelectionDisplay = selectionDisplay === \"all\";\n        const singleSelectionDisplay = selectionDisplay === \"single\";\n        const fitSelectionDisplay = !singleSelectionMode && selectionDisplay === \"fit\";\n        const isClearable = !this.clearDisabled && this.value?.length > 0;\n        return (h(Host, { onClick: this.comboboxFocusHandler }, h(InteractiveContainer, { disabled: this.disabled }, h(\"div\", { \"aria-autocomplete\": \"list\", \"aria-controls\": `${listboxUidPrefix}${guid}`, \"aria-expanded\": toAriaBoolean(open), \"aria-haspopup\": \"listbox\", \"aria-label\": getLabelText(this), \"aria-live\": \"polite\", \"aria-owns\": `${listboxUidPrefix}${guid}`, class: {\n                wrapper: true,\n                \"wrapper--single\": singleSelectionMode || !this.selectedItems.length,\n                \"wrapper--active\": open,\n            }, onClick: this.clickHandler, onKeyDown: this.keyDownHandler, role: \"combobox\",\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: this.setReferenceEl }, this.renderSelectedOrPlaceholderIcon(), h(\"div\", { class: {\n                \"grid-input\": true,\n                [CSS$1.selectionDisplayFit]: fitSelectionDisplay,\n                [CSS$1.selectionDisplaySingle]: singleSelectionDisplay,\n            }, key: \"grid\", ref: this.setChipContainerEl }, !singleSelectionMode && !singleSelectionDisplay && this.renderChips(), !singleSelectionMode &&\n            !allSelectionDisplay && [\n            this.renderSelectedIndicatorChip(),\n            this.renderSelectedIndicatorChipCompact(),\n            this.renderAllSelectedIndicatorChip(),\n            this.renderAllSelectedIndicatorChipCompact(),\n        ], h(\"label\", { class: \"screen-readers-only\", htmlFor: `${inputUidPrefix}${guid}`, id: `${labelUidPrefix}${guid}` }, label), this.renderInput()), isClearable ? (h(XButton, { disabled: this.disabled, key: \"close-button\", label: this.messages.clear, scale: this.scale })) : null, this.renderChevronIcon()), h(\"ul\", { \"aria-labelledby\": `${labelUidPrefix}${guid}`, \"aria-multiselectable\": \"true\", class: \"screen-readers-only\", id: `${listboxUidPrefix}${guid}`, role: \"listbox\", tabIndex: -1 }, this.renderListBoxOptions()), this.renderFloatingUIContainer(), h(HiddenFormInputSlot, { component: this }), this.validationMessage && this.status === \"invalid\" ? (h(Validation, { icon: this.validationIcon, message: this.validationMessage, scale: this.scale, status: this.status })) : null)));\n    }\n    static get assetsDirs() { return [\"assets\"]; }\n    get el() { return this; }\n    static get watchers() { return {\n        \"open\": [\"openHandler\"],\n        \"disabled\": [\"handleDisabledChange\"],\n        \"maxItems\": [\"maxItemsHandler\"],\n        \"overlayPositioning\": [\"overlayPositioningHandler\"],\n        \"selectionMode\": [\"handlePropsChange\"],\n        \"scale\": [\"handlePropsChange\"],\n        \"value\": [\"valueHandler\"],\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"flipPlacements\": [\"flipPlacementsHandler\"],\n        \"selectedItems\": [\"selectedItemsHandler\"],\n        \"text\": [\"textHandler\"],\n        \"effectiveLocale\": [\"effectiveLocaleChange\"]\n    }; }\n    static get style() { return comboboxCss; }\n}, [1, \"calcite-combobox\", {\n        \"clearDisabled\": [516, \"clear-disabled\"],\n        \"selectionDisplay\": [513, \"selection-display\"],\n        \"open\": [1540],\n        \"disabled\": [516],\n        \"form\": [513],\n        \"label\": [1],\n        \"placeholder\": [1],\n        \"placeholderIcon\": [513, \"placeholder-icon\"],\n        \"placeholderIconFlipRtl\": [516, \"placeholder-icon-flip-rtl\"],\n        \"maxItems\": [514, \"max-items\"],\n        \"validationMessage\": [1, \"validation-message\"],\n        \"validationIcon\": [520, \"validation-icon\"],\n        \"name\": [513],\n        \"allowCustomValues\": [516, \"allow-custom-values\"],\n        \"overlayPositioning\": [513, \"overlay-positioning\"],\n        \"required\": [516],\n        \"selectionMode\": [513, \"selection-mode\"],\n        \"scale\": [513],\n        \"status\": [513],\n        \"value\": [1025],\n        \"flipPlacements\": [16],\n        \"messages\": [1040],\n        \"messageOverrides\": [1040],\n        \"selectedItems\": [1040],\n        \"filteredItems\": [1040],\n        \"items\": [32],\n        \"groupItems\": [32],\n        \"needsIcon\": [32],\n        \"activeItemIndex\": [32],\n        \"activeChipIndex\": [32],\n        \"activeDescendant\": [32],\n        \"compactSelectionDisplay\": [32],\n        \"selectedHiddenChipsCount\": [32],\n        \"selectedVisibleChipsCount\": [32],\n        \"text\": [32],\n        \"effectiveLocale\": [32],\n        \"defaultMessages\": [32],\n        \"reposition\": [64],\n        \"setFocus\": [64]\n    }, [[4, \"click\", \"documentClickHandler\"], [0, \"calciteComboboxItemChange\", \"calciteComboboxItemChangeHandler\"]], {\n        \"open\": [\"openHandler\"],\n        \"disabled\": [\"handleDisabledChange\"],\n        \"maxItems\": [\"maxItemsHandler\"],\n        \"overlayPositioning\": [\"overlayPositioningHandler\"],\n        \"selectionMode\": [\"handlePropsChange\"],\n        \"scale\": [\"handlePropsChange\"],\n        \"value\": [\"valueHandler\"],\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"flipPlacements\": [\"flipPlacementsHandler\"],\n        \"selectedItems\": [\"selectedItemsHandler\"],\n        \"text\": [\"textHandler\"],\n        \"effectiveLocale\": [\"effectiveLocaleChange\"]\n    }]);\nfunction defineCustomElement() {\n    if (typeof customElements === \"undefined\") {\n        return;\n    }\n    const components = [\"calcite-combobox\", \"calcite-chip\", \"calcite-combobox-item\", \"calcite-icon\", \"calcite-input-message\"];\n    components.forEach(tagName => { switch (tagName) {\n        case \"calcite-combobox\":\n            if (!customElements.get(tagName)) {\n                customElements.define(tagName, Combobox);\n            }\n            break;\n        case \"calcite-chip\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$4();\n            }\n            break;\n        case \"calcite-combobox-item\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$3();\n            }\n            break;\n        case \"calcite-icon\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$2();\n            }\n            break;\n        case \"calcite-input-message\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$1();\n            }\n            break;\n    } });\n}\ndefineCustomElement();\n\nexport { Combobox as C, defineCustomElement as d };\n\n//# sourceMappingURL=combobox.js.map","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.\n * v2.7.0\n */\nimport { proxyCustomElement, HTMLElement, createEvent, h, Host } from '@stencil/core/internal/client/index.js';\nimport { c as connectLabel, d as disconnectLabel } from './label2.js';\nimport { u as updateHostInteraction, I as InteractiveContainer } from './interactive.js';\nimport { b as getDateTimeFormat, c as connectLocalized, d as disconnectLocalized } from './locale.js';\nimport { u as updateMessages, c as connectMessages, d as disconnectMessages, s as setUpMessages } from './t9n.js';\nimport { c as componentFocusable, s as setUpLoadableComponent, a as setComponentLoaded } from './loadable.js';\nimport { c as connectForm, d as disconnectForm, a as afterConnectDefaultValueSet, H as HiddenFormInputSlot } from './form.js';\nimport { d as defineCustomElement$6 } from './chip.js';\nimport { d as defineCustomElement$5 } from './combobox.js';\nimport { d as defineCustomElement$4 } from './combobox-item.js';\nimport { d as defineCustomElement$3 } from './icon.js';\nimport { d as defineCustomElement$2 } from './input-message.js';\n\nconst hourToMinutes = 60;\nconst timeZoneNameBlockList = [\n    \"CET\",\n    \"CST6CDT\",\n    \"EET\",\n    \"EST\",\n    \"EST5EDT\",\n    \"Factory\",\n    \"HST\",\n    \"MET\",\n    \"MST\",\n    \"MST7MDT\",\n    \"PST8PDT\",\n    \"UTC\",\n    \"WET\",\n];\nfunction timeZoneOffsetToDecimal(shortOffsetTimeZoneName) {\n    const minusSign = \"âˆ’\";\n    const hyphen = \"-\";\n    return (shortOffsetTimeZoneName\n        .replace(\":15\", \".25\")\n        .replace(\":30\", \".5\")\n        .replace(\":45\", \".75\")\n        // ensures decimal string representation is parseable\n        .replace(minusSign, hyphen));\n}\nfunction toOffsetValue(timeZoneName, referenceDateInMs) {\n    // we use \"en-US\" to allow us to reliably remove the standard time token\n    const offset = getTimeZoneShortOffset(timeZoneName, \"en-US\", referenceDateInMs).replace(\"GMT\", \"\");\n    if (offset === \"\") {\n        return 0;\n    }\n    return Number(timeZoneOffsetToDecimal(offset)) * hourToMinutes;\n}\nfunction getUserTimeZoneOffset() {\n    const localDate = new Date();\n    return localDate.getTimezoneOffset() * -1;\n}\nfunction getUserTimeZoneName() {\n    const dateFormatter = new Intl.DateTimeFormat();\n    return dateFormatter.resolvedOptions().timeZone;\n}\n/**\n * The lazy-loaded timezone-groups lib to be used across instances.\n */\nlet timeZoneGroups;\nasync function createTimeZoneItems(locale, messages, mode, referenceDate) {\n    const referenceDateInMs = referenceDate.getTime();\n    const timeZoneNames = Intl.supportedValuesOf(\"timeZone\");\n    if (mode === \"offset\") {\n        if (!timeZoneGroups) {\n            timeZoneGroups = Promise.all([\n                import('./index3.js'),\n                import('./index4.js'),\n            ]);\n        }\n        return timeZoneGroups.then(async ([{ groupTimeZones }, { DateEngine }]) => {\n            const timeZoneGroups = await groupTimeZones({\n                dateEngine: new DateEngine(),\n                groupDateRange: 1,\n                startDate: new Date(referenceDateInMs).toISOString(),\n            });\n            const listFormatter = new Intl.ListFormat(locale, { style: \"long\", type: \"conjunction\" });\n            // we remove blocked entries from tzs and adjust label indices accordingly\n            timeZoneGroups.forEach((group) => {\n                const indexOffsets = [];\n                let removedSoFar = 0;\n                group.tzs.forEach((tz, index) => {\n                    if (timeZoneNameBlockList.includes(tz)) {\n                        removedSoFar++;\n                    }\n                    indexOffsets[index] = removedSoFar;\n                });\n                group.tzs = group.tzs.filter((tz) => !timeZoneNameBlockList.includes(tz));\n                group.labelTzIndices = group.labelTzIndices\n                    .map((index) => index - indexOffsets[index])\n                    .filter((index) => index >= 0 && index < group.tzs.length);\n            });\n            return timeZoneGroups\n                .map(({ labelTzIndices, tzs }) => {\n                const groupRepTz = tzs[0];\n                const decimalOffset = timeZoneOffsetToDecimal(getTimeZoneShortOffset(groupRepTz, locale, referenceDateInMs));\n                const value = toOffsetValue(groupRepTz, referenceDateInMs);\n                const tzLabels = labelTzIndices.map((index) => {\n                    const timeZone = tzs[index];\n                    const timeZoneLabel = messages[timeZone];\n                    return (timeZoneLabel ||\n                        // get city token\n                        timeZone.split(\"/\").pop());\n                });\n                const label = createTimeZoneOffsetLabel(messages, decimalOffset, listFormatter.format(tzLabels));\n                return {\n                    label,\n                    value,\n                    filterValue: tzs.map((tz) => toUserFriendlyName(tz)),\n                };\n            })\n                .filter((group) => !!group)\n                .sort((groupA, groupB) => groupA.value - groupB.value);\n        });\n    }\n    return timeZoneNames\n        .map((timeZone) => {\n        const label = toUserFriendlyName(timeZone);\n        const value = timeZone;\n        return {\n            label,\n            value,\n            filterValue: timeZone,\n        };\n    })\n        .filter((group) => !!group)\n        .sort();\n}\n/**\n * Exported for testing purposes only\n *\n * @internal\n */\nfunction toUserFriendlyName(timeZoneName) {\n    return timeZoneName.replace(/_/g, \" \");\n}\nfunction createTimeZoneOffsetLabel(messages, offsetLabel, groupLabel) {\n    return messages.timeZoneLabel.replace(\"{offset}\", offsetLabel).replace(\"{cities}\", groupLabel);\n}\nfunction getTimeZoneShortOffset(timeZone, locale, referenceDateInMs = Date.now()) {\n    const dateTimeFormat = getDateTimeFormat(locale, { timeZone, timeZoneName: \"shortOffset\" });\n    const parts = dateTimeFormat.formatToParts(referenceDateInMs);\n    return parts.find(({ type }) => type === \"timeZoneName\").value;\n}\n\nconst inputTimeZoneCss = \":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}\";\n\nconst InputTimeZone = /*@__PURE__*/ proxyCustomElement(class InputTimeZone extends HTMLElement {\n    constructor() {\n        super();\n        this.__registerHost();\n        this.__attachShadow();\n        this.calciteInputTimeZoneBeforeClose = createEvent(this, \"calciteInputTimeZoneBeforeClose\", 6);\n        this.calciteInputTimeZoneBeforeOpen = createEvent(this, \"calciteInputTimeZoneBeforeOpen\", 6);\n        this.calciteInputTimeZoneChange = createEvent(this, \"calciteInputTimeZoneChange\", 6);\n        this.calciteInputTimeZoneClose = createEvent(this, \"calciteInputTimeZoneClose\", 6);\n        this.calciteInputTimeZoneOpen = createEvent(this, \"calciteInputTimeZoneOpen\", 6);\n        this.setComboboxRef = (el) => {\n            this.comboboxEl = el;\n        };\n        this.onComboboxBeforeClose = (event) => {\n            event.stopPropagation();\n            this.calciteInputTimeZoneBeforeClose.emit();\n        };\n        this.onComboboxBeforeOpen = (event) => {\n            event.stopPropagation();\n            this.calciteInputTimeZoneBeforeOpen.emit();\n        };\n        this.onComboboxChange = (event) => {\n            event.stopPropagation();\n            const combobox = event.target;\n            const selected = this.findTimeZoneItem(combobox.selectedItems[0].getAttribute(\"data-value\"));\n            const selectedValue = `${selected.value}`;\n            if (this.value === selectedValue) {\n                return;\n            }\n            this.value = selectedValue;\n            this.selectedTimeZoneItem = selected;\n            this.calciteInputTimeZoneChange.emit();\n        };\n        this.onComboboxClose = (event) => {\n            event.stopPropagation();\n            this.open = false;\n            this.calciteInputTimeZoneClose.emit();\n        };\n        this.onComboboxOpen = (event) => {\n            this.open = true;\n            event.stopPropagation();\n            this.calciteInputTimeZoneOpen.emit();\n        };\n        this.disabled = false;\n        this.form = undefined;\n        this.maxItems = 0;\n        this.messages = undefined;\n        this.messageOverrides = undefined;\n        this.mode = \"offset\";\n        this.validationMessage = undefined;\n        this.validationIcon = undefined;\n        this.name = undefined;\n        this.open = false;\n        this.overlayPositioning = \"absolute\";\n        this.referenceDate = undefined;\n        this.required = false;\n        this.scale = \"m\";\n        this.status = \"idle\";\n        this.value = undefined;\n        this.defaultMessages = undefined;\n        this.effectiveLocale = \"\";\n    }\n    onMessagesChange() {\n        /* wired up by t9n util */\n    }\n    handleTimeZoneItemPropsChange() {\n        this.updateTimeZoneItemsAndSelection();\n    }\n    handleValueChange(value, oldValue) {\n        const timeZoneItem = this.findTimeZoneItem(value);\n        if (!timeZoneItem) {\n            this.value = oldValue;\n            return;\n        }\n        this.selectedTimeZoneItem = timeZoneItem;\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Public Methods\n    //\n    //--------------------------------------------------------------------------\n    async setFocus() {\n        await componentFocusable(this);\n        await this.comboboxEl.setFocus();\n    }\n    effectiveLocaleWatcher() {\n        updateMessages(this, this.effectiveLocale);\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    //--------------------------------------------------------------------------\n    onLabelClick() {\n        this.setFocus();\n    }\n    findTimeZoneItem(value) {\n        const valueToMatch = value;\n        return this.timeZoneItems.find(({ value }) => \n        // intentional == to match string to number\n        value == valueToMatch);\n    }\n    async updateTimeZoneItemsAndSelection() {\n        this.timeZoneItems = await this.createTimeZoneItems();\n        const fallbackValue = this.mode === \"offset\" ? getUserTimeZoneOffset() : getUserTimeZoneName();\n        const valueToMatch = this.value ?? fallbackValue;\n        this.selectedTimeZoneItem = this.findTimeZoneItem(valueToMatch);\n        if (!this.selectedTimeZoneItem) {\n            this.selectedTimeZoneItem = this.findTimeZoneItem(fallbackValue);\n        }\n    }\n    async createTimeZoneItems() {\n        if (!this.effectiveLocale || !this.messages) {\n            return [];\n        }\n        return createTimeZoneItems(this.effectiveLocale, this.messages, this.mode, this.referenceDate instanceof Date\n            ? this.referenceDate\n            : new Date(this.referenceDate ?? Date.now()));\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    //--------------------------------------------------------------------------\n    connectedCallback() {\n        connectForm(this);\n        connectLabel(this);\n        connectLocalized(this);\n        connectMessages(this);\n    }\n    disconnectedCallback() {\n        disconnectForm(this);\n        disconnectLabel(this);\n        disconnectLocalized(this);\n        disconnectMessages(this);\n    }\n    async componentWillLoad() {\n        setUpLoadableComponent(this);\n        await setUpMessages(this);\n        await this.updateTimeZoneItemsAndSelection();\n        const selectedValue = `${this.selectedTimeZoneItem.value}`;\n        afterConnectDefaultValueSet(this, selectedValue);\n        this.value = selectedValue;\n    }\n    componentDidLoad() {\n        setComponentLoaded(this);\n    }\n    componentDidRender() {\n        updateHostInteraction(this);\n    }\n    render() {\n        return (h(Host, null, h(InteractiveContainer, { disabled: this.disabled }, h(\"calcite-combobox\", { clearDisabled: true, disabled: this.disabled, label: this.messages.chooseTimeZone, lang: this.effectiveLocale, maxItems: this.maxItems, onCalciteComboboxBeforeClose: this.onComboboxBeforeClose, onCalciteComboboxBeforeOpen: this.onComboboxBeforeOpen, onCalciteComboboxChange: this.onComboboxChange, onCalciteComboboxClose: this.onComboboxClose, onCalciteComboboxOpen: this.onComboboxOpen, open: this.open, overlayPositioning: this.overlayPositioning, scale: this.scale, selectionMode: \"single-persist\", status: this.status, \"validation-icon\": this.validationIcon, \"validation-message\": this.validationMessage,\n            // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)\n            ref: this.setComboboxRef }, this.timeZoneItems.map((group) => {\n            const selected = this.selectedTimeZoneItem === group;\n            const { label, value } = group;\n            return (h(\"calcite-combobox-item\", { \"data-value\": value, key: label, selected: selected, textLabel: label, value: `${group.filterValue}` }));\n        })), h(HiddenFormInputSlot, { component: this }))));\n    }\n    static get delegatesFocus() { return true; }\n    static get assetsDirs() { return [\"assets\"]; }\n    get el() { return this; }\n    static get watchers() { return {\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"messages\": [\"handleTimeZoneItemPropsChange\"],\n        \"mode\": [\"handleTimeZoneItemPropsChange\"],\n        \"referenceDate\": [\"handleTimeZoneItemPropsChange\"],\n        \"value\": [\"handleValueChange\"],\n        \"effectiveLocale\": [\"effectiveLocaleWatcher\"]\n    }; }\n    static get style() { return inputTimeZoneCss; }\n}, [17, \"calcite-input-time-zone\", {\n        \"disabled\": [516],\n        \"form\": [513],\n        \"maxItems\": [514, \"max-items\"],\n        \"messages\": [1040],\n        \"messageOverrides\": [1040],\n        \"mode\": [513],\n        \"validationMessage\": [1, \"validation-message\"],\n        \"validationIcon\": [520, \"validation-icon\"],\n        \"name\": [513],\n        \"open\": [1540],\n        \"overlayPositioning\": [513, \"overlay-positioning\"],\n        \"referenceDate\": [1, \"reference-date\"],\n        \"required\": [516],\n        \"scale\": [513],\n        \"status\": [513],\n        \"value\": [1025],\n        \"defaultMessages\": [32],\n        \"effectiveLocale\": [32],\n        \"setFocus\": [64]\n    }, undefined, {\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"messages\": [\"handleTimeZoneItemPropsChange\"],\n        \"mode\": [\"handleTimeZoneItemPropsChange\"],\n        \"referenceDate\": [\"handleTimeZoneItemPropsChange\"],\n        \"value\": [\"handleValueChange\"],\n        \"effectiveLocale\": [\"effectiveLocaleWatcher\"]\n    }]);\nfunction defineCustomElement$1() {\n    if (typeof customElements === \"undefined\") {\n        return;\n    }\n    const components = [\"calcite-input-time-zone\", \"calcite-chip\", \"calcite-combobox\", \"calcite-combobox-item\", \"calcite-icon\", \"calcite-input-message\"];\n    components.forEach(tagName => { switch (tagName) {\n        case \"calcite-input-time-zone\":\n            if (!customElements.get(tagName)) {\n                customElements.define(tagName, InputTimeZone);\n            }\n            break;\n        case \"calcite-chip\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$6();\n            }\n            break;\n        case \"calcite-combobox\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$5();\n            }\n            break;\n        case \"calcite-combobox-item\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$4();\n            }\n            break;\n        case \"calcite-icon\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$3();\n            }\n            break;\n        case \"calcite-input-message\":\n            if (!customElements.get(tagName)) {\n                defineCustomElement$2();\n            }\n            break;\n    } });\n}\ndefineCustomElement$1();\n\nconst CalciteInputTimeZone = InputTimeZone;\nconst defineCustomElement = defineCustomElement$1;\n\nexport { CalciteInputTimeZone, defineCustomElement };\n\n//# sourceMappingURL=calcite-input-time-zone.js.map"],"mappings":"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"}