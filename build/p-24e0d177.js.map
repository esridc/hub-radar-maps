{"version":3,"names":["o","visible","a","r","constructor","e","super","this","scale","layer","_get","_set","removeHandles","addHandles","sublayers","on","notifyChange","propertyName","layers","visibleSublayers","filter","name","map","join","version","commitProperty","s","t","minScale","maxScale","l","i","forEach","push","toJSON","imageFormat","imageTransparency","format","request","service","styles","transparent","prototype","readOnly","type","Number"],"sources":["./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const o={visible:\"visibleSublayers\"};let a=class extends r{constructor(e){super(e),this.scale=0}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.removeHandles(\"layer\"),e&&this.addHandles([e.sublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"wms-sublayer-update\",(e=>this.notifyChange(o[e.propertyName])))],\"layer\"))}get layers(){return this.visibleSublayers.filter((({name:e})=>e)).map((({name:e})=>e)).join()}get version(){this.commitProperty(\"layers\");const e=this.layer;return e&&e.commitProperty(\"imageTransparency\"),(this._get(\"version\")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=e?.sublayers,t=[],o=e=>{const{minScale:s,maxScale:a,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===a||r>=a))&&(l?l.forEach(o):t.push(e))};return s?.forEach(o),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:o}=e;return{format:s,request:\"GetMap\",service:\"WMS\",styles:\"\",transparent:t?\"TRUE\":\"FALSE\",version:o,layers:r}}};e([s()],a.prototype,\"layer\",null),e([s({readOnly:!0})],a.prototype,\"layers\",null),e([s({type:Number})],a.prototype,\"scale\",void 0),e([s({readOnly:!0})],a.prototype,\"version\",null),e([s({readOnly:!0})],a.prototype,\"visibleSublayers\",null),a=e([t(\"esri.layers.support.ExportWMSImageParameters\")],a);export{a as ExportWMSImageParameters};\n"],"mappings":"6DAIqU,MAAMA,EAAE,CAACC,QAAQ,oBAAuB,IAACC,EAAE,cAAcC,EAAEC,YAAYC,GAAGC,MAAMD,GAAGE,KAAKC,MAAM,CAAC,CAAKC,UAAMJ,GAAGE,KAAKG,KAAK,WAAWL,IAAIE,KAAKI,KAAK,QAAQN,GAAGE,KAAKK,cAAc,SAASP,GAAGE,KAAKM,WAAW,CAACR,EAAES,UAAUC,GAAG,UAAQ,IAAMR,KAAKS,aAAa,sBAAsBX,EAAEU,GAAG,uBAAuBV,GAAGE,KAAKS,aAAahB,EAAEK,EAAEY,kBAAkB,SAAS,CAAKC,aAAS,OAAOX,KAAKY,iBAAiBC,QAAM,EAAIC,KAAKhB,KAAKA,IAAIiB,KAAG,EAAID,KAAKhB,KAAKA,IAAIkB,MAAM,CAAKC,cAAUjB,KAAKkB,eAAe,UAAU,MAAMpB,EAAEE,KAAKE,MAAM,OAAOJ,GAAGA,EAAEoB,eAAe,sBAAsBlB,KAAKG,KAAK,YAAY,GAAG,CAAC,CAAKS,uBAAmB,MAAMV,MAAMJ,EAAEG,MAAML,GAAGI,KAAKmB,EAAErB,GAAGS,UAAUa,EAAE,GAAG3B,EAAEK,IAAI,MAAMuB,SAASF,EAAEG,SAAS3B,EAAEY,UAAUgB,EAAE7B,QAAQ8B,GAAG1B,EAAE0B,IAAI,IAAI5B,IAAI,IAAIuB,GAAGvB,GAAGuB,KAAK,IAAIxB,GAAGC,GAAGD,MAAM4B,EAAEA,EAAEE,QAAQhC,GAAG2B,EAAEM,KAAK5B,GAAE,EAAG,OAAOqB,GAAGM,QAAQhC,GAAG2B,CAAC,CAACO,SAAS,MAAMzB,MAAMJ,EAAEa,OAAOf,GAAGI,MAAM4B,YAAYT,EAAEU,kBAAkBT,EAAEH,QAAQxB,GAAGK,EAAE,MAAM,CAACgC,OAAOX,EAAEY,QAAQ,SAASC,QAAQ,MAAMC,OAAO,GAAGC,YAAYd,EAAE,OAAO,QAAQH,QAAQxB,EAAEkB,OAAOf,EAAE,GAAGE,EAAE,CAACqB,KAAKxB,EAAEwC,UAAU,QAAQ,MAAMrC,EAAE,CAACqB,EAAE,CAACiB,UAAU,KAAKzC,EAAEwC,UAAU,SAAS,MAAMrC,EAAE,CAACqB,EAAE,CAACkB,KAAKC,UAAU3C,EAAEwC,UAAU,aAAa,GAAGrC,EAAE,CAACqB,EAAE,CAACiB,UAAU,KAAKzC,EAAEwC,UAAU,UAAU,MAAMrC,EAAE,CAACqB,EAAE,CAACiB,UAAU,KAAKzC,EAAEwC,UAAU,mBAAmB,MAAMxC,EAAEG,EAAE,CAACsB,EAAE,iDAAiDzB,U"}