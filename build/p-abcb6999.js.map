{"version":3,"names":["p","n","constructor","super","arguments","this","copyright","minScale","maxScale","spatialReference","tileInfo","tilemapCache","destroy","readMinScale","e","o","minLOD","maxLOD","readMaxScale","supportsBlankTile","version","readTilemapCache","r","t","capabilities","includes","a","c","Math","round","lods","scale","length","level","s","layer","l","read","i","json","source","prototype","type","readOnly"],"sources":["./node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as r}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"../support/TileInfo.js\";import i from\"../support/TileInfoTilemapCache.js\";import{TilemapCache as s}from\"../support/TilemapCache.js\";import a from\"../../geometry/SpatialReference.js\";const p=p=>{let n=class extends p{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}readMaxScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,o,r){const t=o.capabilities?.includes(\"Tilemap\");let{minLOD:a,maxLOD:p,minScale:n,maxScale:c}=o;if(null==a&&null==p&&0!==n&&0!==c){const e=e=>Math.round(1e4*e)/1e4;n=e(n||o.tileInfo.lods[0].scale),c=e(c||o.tileInfo.lods[o.tileInfo.lods.length-1].scale);for(const r of o.tileInfo.lods){const o=e(r.scale);a=o>=n?r.level:a,p=o>=c?r.level:p}}if(t)return new s({layer:this,minLOD:a,maxLOD:p});if(o.tileInfo){const e=new l;return e.read(o.tileInfo,r),new i(e,a,p)}return null}};return e([o({json:{read:{source:\"copyrightText\"}}})],n.prototype,\"copyright\",void 0),e([o()],n.prototype,\"minScale\",void 0),e([r(\"service\",\"minScale\")],n.prototype,\"readMinScale\",null),e([o()],n.prototype,\"maxScale\",void 0),e([r(\"service\",\"maxScale\")],n.prototype,\"readMaxScale\",null),e([o({type:a})],n.prototype,\"spatialReference\",void 0),e([o({readOnly:!0})],n.prototype,\"supportsBlankTile\",null),e([o({type:l})],n.prototype,\"tileInfo\",void 0),e([o()],n.prototype,\"tilemapCache\",void 0),e([r(\"service\",\"tilemapCache\",[\"capabilities\",\"tileInfo\"])],n.prototype,\"readTilemapCache\",null),e([o()],n.prototype,\"version\",void 0),n=e([t(\"esri.layers.mixins.ArcGISCachedService\")],n),n};export{p as ArcGISCachedService};\n"],"mappings":"qJAI2kB,MAACA,EAAEA,IAAI,IAAIC,EAAE,cAAcD,EAAEE,cAAcC,SAASC,WAAWC,KAAKC,UAAU,KAAKD,KAAKE,SAAS,EAAEF,KAAKG,SAAS,EAAEH,KAAKI,iBAAiB,KAAKJ,KAAKK,SAAS,KAAKL,KAAKM,aAAa,IAAI,CAACC,UAAUP,KAAKM,cAAcC,WAAW,CAACC,aAAaC,EAAEC,GAAG,OAAO,MAAMA,EAAEC,QAAQ,MAAMD,EAAEE,OAAOH,EAAE,CAAC,CAACI,aAAaJ,EAAEC,GAAG,OAAO,MAAMA,EAAEC,QAAQ,MAAMD,EAAEE,OAAOH,EAAE,CAAC,CAAKK,wBAAoB,OAAOd,KAAKe,SAAS,IAAI,CAACC,iBAAiBP,EAAEC,EAAEO,GAAG,MAAMC,EAAER,EAAES,cAAcC,SAAS,WAAW,IAAIT,OAAOU,EAAET,OAAOjB,EAAEO,SAASN,EAAEO,SAASmB,GAAGZ,EAAE,GAAG,MAAMW,GAAG,MAAM1B,GAAG,IAAIC,GAAG,IAAI0B,EAAE,CAAC,MAAMb,EAAEA,GAAGc,KAAKC,MAAM,IAAIf,GAAG,IAAIb,EAAEa,EAAEb,GAAGc,EAAEL,SAASoB,KAAK,GAAGC,OAAOJ,EAAEb,EAAEa,GAAGZ,EAAEL,SAASoB,KAAKf,EAAEL,SAASoB,KAAKE,OAAO,GAAGD,OAAO,IAAI,MAAMT,KAAKP,EAAEL,SAASoB,KAAK,CAAC,MAAMf,EAAED,EAAEQ,EAAES,OAAOL,EAAEX,GAAGd,EAAEqB,EAAEW,MAAMP,EAAE1B,EAAEe,GAAGY,EAAEL,EAAEW,MAAMjC,CAAC,CAAC,CAAC,GAAGuB,EAAE,OAAO,IAAIW,EAAE,CAACC,MAAM9B,KAAKW,OAAOU,EAAET,OAAOjB,IAAI,GAAGe,EAAEL,SAAS,CAAC,MAAMI,EAAE,IAAIsB,EAAE,OAAOtB,EAAEuB,KAAKtB,EAAEL,SAASY,GAAG,IAAIgB,EAAExB,EAAEY,EAAE1B,EAAE,CAAC,OAAO,IAAI,GAAG,OAAOc,EAAE,CAACC,EAAE,CAACwB,KAAK,CAACF,KAAK,CAACG,OAAO,qBAAqBvC,EAAEwC,UAAU,iBAAiB,GAAG3B,EAAE,CAACC,KAAKd,EAAEwC,UAAU,gBAAgB,GAAG3B,EAAE,CAACQ,EAAE,UAAU,aAAarB,EAAEwC,UAAU,eAAe,MAAM3B,EAAE,CAACC,KAAKd,EAAEwC,UAAU,gBAAgB,GAAG3B,EAAE,CAACQ,EAAE,UAAU,aAAarB,EAAEwC,UAAU,eAAe,MAAM3B,EAAE,CAACC,EAAE,CAAC2B,KAAKhB,KAAKzB,EAAEwC,UAAU,wBAAwB,GAAG3B,EAAE,CAACC,EAAE,CAAC4B,UAAU,KAAK1C,EAAEwC,UAAU,oBAAoB,MAAM3B,EAAE,CAACC,EAAE,CAAC2B,KAAKN,KAAKnC,EAAEwC,UAAU,gBAAgB,GAAG3B,EAAE,CAACC,KAAKd,EAAEwC,UAAU,oBAAoB,GAAG3B,EAAE,CAACQ,EAAE,UAAU,eAAe,CAAC,eAAe,cAAcrB,EAAEwC,UAAU,mBAAmB,MAAM3B,EAAE,CAACC,KAAKd,EAAEwC,UAAU,eAAe,GAAGxC,EAAEa,EAAE,CAACS,EAAE,2CAA2CtB,GAAGA,U"}